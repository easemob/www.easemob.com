<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="zh">
<head>
<!-- Generated by javadoc (version 1.7.0_60) on Fri Nov 13 19:07:13 CST 2015 -->
<meta http-equiv="Content-Type" content="text/html" charset="UTF-8">
<title>EMChatManager (EaseMob Chat API 2.0)</title>
<meta name="date" content="2015-11-13">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="EMChatManager (EaseMob Chat API 2.0)";
    }
//-->
</script>
<noscript>
<div>您的浏览器已禁用 JavaScript。</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="跳过导航链接"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="导航">
<li><a href="../../../overview-summary.html">概览</a></li>
<li><a href="package-summary.html">程序包</a></li>
<li class="navBarCell1Rev">类</li>
<li><a href="package-tree.html">树</a></li>
<li><a href="../../../deprecated-list.html">已过时</a></li>
<li><a href="../../../index-all.html">索引</a></li>
<li><a href="../../../help-doc.html">帮助</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/easemob/chat/EMChatDB.html" title="com.easemob.chat中的类"><span class="strong">上一个类</span></a></li>
<li><a href="../../../com/easemob/chat/EMChatOptions.html" title="com.easemob.chat中的类"><span class="strong">下一个类</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/easemob/chat/EMChatManager.html" target="_top">框架</a></li>
<li><a href="EMChatManager.html" target="_top">无框架</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">所有类</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>概要:&nbsp;</li>
<li>嵌套&nbsp;|&nbsp;</li>
<li>字段&nbsp;|&nbsp;</li>
<li>构造器&nbsp;|&nbsp;</li>
<li><a href="#method_summary">方法</a></li>
</ul>
<ul class="subNavList">
<li>详细资料:&nbsp;</li>
<li>字段&nbsp;|&nbsp;</li>
<li>构造器&nbsp;|&nbsp;</li>
<li><a href="#method_detail">方法</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.easemob.chat</div>
<h2 title="类 EMChatManager" class="title">类 EMChatManager</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>com.easemob.chat.EMChatManager</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="strong">EMChatManager</span>
extends java.lang.Object</pre>
<div class="block">环信sdk 的主要接口 应用启动的时候初始化 sdk
 
 <pre>
 public final class YouAppClass extends Application {
 
        public void onCreate() {
                super.onCreate();
                // 初始化 chat sdk
                EMChat.getInstance().init(this.getApplicationContext());
        }
 }
 </pre>
 
 发送一条文本消息：
 
 <pre>
 EMMessage msg = new EMMessage(EMMessage.Type.TXT);
 msg.setReceipt(&quot;test_user1&quot;);
 TextMessageBody body = new TextMessageBody(&quot;hello from easemob&quot;);
 msg.addBody(body);
 EMChatManager.getInstance().sendMessage(msg);
 </pre>
 
 从接收消息通过注册broadcast receiver实现:：
 
 <pre>
 BroadcastReceiver msgReceiver = new BroadcastReceiver(){
     public void onReceive(Context context, Intent intent) {
      String msgId = intent.getStringExtra("msgid");
      EMMessage message = EMChatManager.getInstance().getMessage(msgId);
      
      Log.d("main", "new message id:" + msgId + " from:" + message.getFrom()
                   + " type:" + message.getType() + " body:" + message.getBody());
           switch (message.getType()) {
           case TXT:
               TextMessageBody txtBody = (TextMessageBody)message.getBody();
               Log.d("text message from:" + message.getFrom() + " text:" + txtBody.getMessage() + " \n\r");
               break;
           case IMAGE:
               ImageMessageBody imgBody = (ImageMessageBody)message.getBody();
               Log.d("img message from:" + message.getFrom() + " thumbnail:" + imgBody.getThumbnailUrl()
                       + " remoteurl:" + imgBody.getRemoteUrl()+ " \n\r");
               break;
           case VOICE:
               VoiceMessageBody voiceBody = (VoiceMessageBody)message.getBody();
               Log.d("voice message from:" + message.getFrom() + " length:" + voiceBody.getLength()
                       + " remoteurl:" + voiceBody.getRemoteUrl()+ " \n\r");
               break;
           case LOCATION:
               LocationMessageBody locationBody = (LocationMessageBody)message.getBody();
               Log.d("location message from:" + message.getFrom() + " address:" + locationBody.getAddress() +" \n\r");
               break;
      
     }
 };
 
 IntentFilter intentFilter = new IntentFilter(EMChatManager.getInstance().getNewMessageBroadcastAction());
 registerReceiver(msgReceiver, intentFilter);
 </pre>
 
 应用程序可以通过EMChatOptions 来配置聊天的各种选项</div>
<dl><dt><span class="strong">另请参阅:</span></dt><dd><a href="../../../com/easemob/chat/EMChatOptions.html" title="com.easemob.chat中的类"><code>EMChatOptions</code></a></dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>方法概要</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="方法概要表, 列表方法和解释">
<caption><span>方法</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">限定符和类型</th>
<th class="colLast" scope="col">方法和说明</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/easemob/chat/EMChatManager.html#acceptInvitation(java.lang.String)">acceptInvitation</a></strong>(java.lang.String&nbsp;username)</code>
<div class="block">同意好友请求
 
 accept the invitation sent by the peer</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/easemob/chat/EMChatManager.html#ackMessageRead(java.lang.String,%20java.lang.String)">ackMessageRead</a></strong>(java.lang.String&nbsp;to,
              java.lang.String&nbsp;messageId)</code>
<div class="block">发送消息已读回执
 
 send read ack to server</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/easemob/chat/EMChatManager.html#activityResumed()">activityResumed</a></strong>()</code>
<div class="block">应用从后台回到前台，需要用activityResumed 通知sdk sdk 会reset 系统的消息通知 （notification area）</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/easemob/chat/EMChatManager.html#addCallStateChangeListener(com.easemob.chat.EMCallStateChangeListener)">addCallStateChangeListener</a></strong>(<a href="../../../com/easemob/chat/EMCallStateChangeListener.html" title="com.easemob.chat中的接口">EMCallStateChangeListener</a>&nbsp;listener)</code>
<div class="block">设置通话状态监听</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/easemob/chat/EMChatManager.html#addChatRoomChangeListener(com.easemob.EMChatRoomChangeListener)">addChatRoomChangeListener</a></strong>(<a href="../../../com/easemob/EMChatRoomChangeListener.html" title="com.easemob中的接口">EMChatRoomChangeListener</a>&nbsp;listener)</code>
<div class="block">注册聊天室事件监听
 
 register chat room change listener</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/easemob/chat/EMChatManager.html#addConnectionListener(com.easemob.chat.ConnectionListener)">addConnectionListener</a></strong>(<a href="../../../com/easemob/chat/ConnectionListener.html" title="com.easemob.chat中的接口">ConnectionListener</a>&nbsp;listener)</code>
<div class="block"><strong>已过时。</strong>&nbsp;
<div class="block"><i>please use new API <code>addConnectionListener(final
             EMConnectionListener listener)</code> instead</i></div>
</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/easemob/chat/EMChatManager.html#addConnectionListener(com.easemob.EMConnectionListener)">addConnectionListener</a></strong>(<a href="../../../com/easemob/EMConnectionListener.html" title="com.easemob中的接口">EMConnectionListener</a>&nbsp;listener)</code>
<div class="block">add the connection listener to monitor the connection state APP should
 not update the UI directly in the callback functions defined in
 EMConnectionListener</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/easemob/chat/EMChatManager.html#addVoiceCallStateChangeListener(com.easemob.chat.EMCallStateChangeListener)">addVoiceCallStateChangeListener</a></strong>(<a href="../../../com/easemob/chat/EMCallStateChangeListener.html" title="com.easemob.chat中的接口">EMCallStateChangeListener</a>&nbsp;listener)</code>
<div class="block"><strong>已过时。</strong>&nbsp;
<div class="block"><i>使用{<a href="../../../com/easemob/chat/EMChatManager.html#addCallStateChangeListener(com.easemob.chat.EMCallStateChangeListener)"><code>addCallStateChangeListener(EMCallStateChangeListener)</code></a>替代</i></div>
</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/easemob/chat/EMChatManager.html#answerCall()">answerCall</a></strong>()</code>
<div class="block">接听通话</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../com/easemob/chat/EMChatManager.html#areAllConversationsLoaded()">areAllConversationsLoaded</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/easemob/chat/EMChatManager.html#asyncFetchMessage(com.easemob.chat.EMMessage)">asyncFetchMessage</a></strong>(<a href="../../../com/easemob/chat/EMMessage.html" title="com.easemob.chat中的类">EMMessage</a>&nbsp;msg)</code>
<div class="block">未成功下载的附件，可再次下载</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/easemob/chat/EMChatManager.html#asyncLoadAllConversations(com.easemob.EMCallBack)">asyncLoadAllConversations</a></strong>(<a href="../../../com/easemob/EMCallBack.html" title="com.easemob中的接口">EMCallBack</a>&nbsp;callback)</code>
<div class="block">asynchronously load all conversations with number of messages specificed in setNumberOfMessagesLoaded in <a href="../../../com/easemob/chat/EMChatOptions.html" title="com.easemob.chat中的类"><code>EMChatOptions</code></a> for each conversation，20 by defalult
 异步获取所有会话列表，每个会话默认加载的消息条目由setNumberOfMessagesLoaded指定，可以参考<a href="../../../com/easemob/chat/EMChatOptions.html" title="com.easemob.chat中的类"><code>EMChatOptions</code></a>，默认是20条以保持兼容,建议是1</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../com/easemob/chat/EMChatManager.html#clearConversation(java.lang.String)">clearConversation</a></strong>(java.lang.String&nbsp;username)</code>
<div class="block">清空和指定用户或者群聊的会话(包括删除本地的聊天记录) <br/>
 <b>和deleteConversation的区别是: 这个会保留conversation这个对象,
 当用户处于聊天页面或者类似上一页是聊天页面，清空消息时务必调用此方法，否则 清空后再来此用户的消息,ui上会有bug<b/></div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/easemob/chat/EMChatManager.html#createAccountOnServer(java.lang.String,%20java.lang.String)">createAccountOnServer</a></strong>(java.lang.String&nbsp;username,
                     java.lang.String&nbsp;password)</code>
<div class="block">创建新的用户 因为需要网络访问，此方法需要运行在单独的线程或AsyncTask中
 
 create a new easemob user account and this api is only supported when you mark your app as unauthorized user registration in easemob management console</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/easemob/chat/EMChatManager.html#deleteAllConversation()">deleteAllConversation</a></strong>()</code>
<div class="block">删除所有会话
 
 delete all conversations and all message history</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../com/easemob/chat/EMChatManager.html#deleteConversation(java.lang.String)">deleteConversation</a></strong>(java.lang.String&nbsp;username)</code>
<div class="block">删除和指定用户的对话(包括删除本地的聊天记录)
 
 delete conversation and all message history in this conversation</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../com/easemob/chat/EMChatManager.html#deleteConversation(java.lang.String,%20boolean)">deleteConversation</a></strong>(java.lang.String&nbsp;username,
                  boolean&nbsp;isGroup)</code>
<div class="block">删除和指定用户或者群聊的对话(包括删除本地的聊天记录)
 
 delete conversation and all history messages</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../com/easemob/chat/EMChatManager.html#deleteConversation(java.lang.String,%20boolean,%20boolean)">deleteConversation</a></strong>(java.lang.String&nbsp;username,
                  boolean&nbsp;isGroup,
                  boolean&nbsp;deleteMessages)</code>
<div class="block">删除和指定用户或者群聊的对话(包括删除本地的聊天记录)
 
 delete conversation and optionally delete all history messages</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/easemob/chat/EMChatManager.html#downloadFile(java.lang.String,%20java.lang.String,%20java.util.Map,%20com.easemob.EMCallBack)">downloadFile</a></strong>(java.lang.String&nbsp;remoteUrl,
            java.lang.String&nbsp;localFilePath,
            java.util.Map&lt;java.lang.String,java.lang.String&gt;&nbsp;headers,
            <a href="../../../com/easemob/EMCallBack.html" title="com.easemob中的接口">EMCallBack</a>&nbsp;callback)</code>
<div class="block">从环信服务器下载文件
 
 download the file from eaemob server</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/easemob/chat/EMChatManager.html#endCall()">endCall</a></strong>()</code>
<div class="block">挂断通话</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../com/easemob/chat/EMChatRoom.html" title="com.easemob.chat中的类">EMChatRoom</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/easemob/chat/EMChatManager.html#fetchChatRoomFromServer(java.lang.String)">fetchChatRoomFromServer</a></strong>(java.lang.String&nbsp;roomId)</code>
<div class="block">从服务器获取聊天室详情
 耗时操作

 fetch the chat room by room id</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../com/easemob/chat/EMCursorResult.html" title="com.easemob.chat中的类">EMCursorResult</a>&lt;<a href="../../../com/easemob/chat/EMChatRoom.html" title="com.easemob.chat中的类">EMChatRoom</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../com/easemob/chat/EMChatManager.html#fetchPublicChatRoomsFromServer(int,%20java.lang.String)">fetchPublicChatRoomsFromServer</a></strong>(int&nbsp;pageSize,
                              java.lang.String&nbsp;cursor)</code>
<div class="block">翻页从服务器获取聊天室
 耗时操作

 fetch the chatroom in page synchronoulsy
 this is a time consuming ooperation</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../com/easemob/chat/EMChatManager.html#getAccessToken()">getAccessToken</a></strong>()</code>
<div class="block">获取身份认证权限 在上传下载附件（语音，图片，文件等）时必须添加到请求header中 当出现任何异常时将返回null，
 可通过判断是否为null来检测是否有问题 如果为null，在打开EMLog日志时，是可以看到异常原因。</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../com/easemob/chat/EMChatManager.html#getAckMessageBroadcastAction()">getAckMessageBroadcastAction</a></strong>()</code>
<div class="block"><strong>已过时。</strong>&nbsp;
<div class="block"><i>please use <code>registerEventListener</code> instead</i></div>
</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.util.List&lt;<a href="../../../com/easemob/chat/EMChatRoom.html" title="com.easemob.chat中的类">EMChatRoom</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../com/easemob/chat/EMChatManager.html#getAllChatRooms()">getAllChatRooms</a></strong>()</code>
<div class="block">从内存中获取所有的聊天室
 非耗时操作
 get all the chat rooms in the cache</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.util.Hashtable&lt;java.lang.String,<a href="../../../com/easemob/chat/EMConversation.html" title="com.easemob.chat中的类">EMConversation</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../com/easemob/chat/EMChatManager.html#getAllConversations()">getAllConversations</a></strong>()</code>
<div class="block">获取内存中所有会话
 
 和loadAllConversations区别就是loadAllConversations是从本地数据库加载所有的会话到内存，所以app在使用getAllConversations之前，一定要先调用loadAllConversations
 以确保会话都被加载到内存中，不过loadAllConversations调用一次即可

 get all conversations 
 compared with loadAllConversations, loadAllConversations will load conversations from db to memory and getAllConversations will get all conversations from memmory
 therefore, you should call api loadAllConversations and getAllConversations</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../com/easemob/chat/EMChatOptions.html" title="com.easemob.chat中的类">EMChatOptions</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/easemob/chat/EMChatManager.html#getChatOptions()">getChatOptions</a></strong>()</code>
<div class="block">获取聊天sdk 的相关参数，配置
 
 get options</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../com/easemob/chat/EMChatRoom.html" title="com.easemob.chat中的类">EMChatRoom</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/easemob/chat/EMChatManager.html#getChatRoom(java.lang.String)">getChatRoom</a></strong>(java.lang.String&nbsp;roomId)</code>
<div class="block">从内存中获取聊天室
 非耗时操作


 get the chat room in the cache</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../com/easemob/chat/EMChatManager.html#getCmdMessageBroadcastAction()">getCmdMessageBroadcastAction</a></strong>()</code>
<div class="block"><strong>已过时。</strong>&nbsp;
<div class="block"><i>please use <code>registerEventListener</code> instead</i></div>
</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../com/easemob/chat/EMChatManager.html#getContactInviteEventBroadcastAction()">getContactInviteEventBroadcastAction</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.util.List&lt;java.lang.String&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../com/easemob/chat/EMChatManager.html#getContactUserNames()">getContactUserNames</a></strong>()</code>
<div class="block">获取所有联系人的用户名列表</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../com/easemob/chat/EMConversation.html" title="com.easemob.chat中的类">EMConversation</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/easemob/chat/EMChatManager.html#getConversation(java.lang.String)">getConversation</a></strong>(java.lang.String&nbsp;username)</code>
<div class="block">获取和指定用户或者群组的对话
 
 get conversation through user id or group id

 typically you don't need to pass any type of conversation to get the conversation if you don't work on the chatroom
 otherwise you should pass by the conversation type <code>getConversationByType(String username, EMConversationType type)</code></div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../com/easemob/chat/EMConversation.html" title="com.easemob.chat中的类">EMConversation</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/easemob/chat/EMChatManager.html#getConversation(java.lang.String,%20boolean)">getConversation</a></strong>(java.lang.String&nbsp;username,
               boolean&nbsp;isGroup)</code>
<div class="block"><strong>已过时。</strong>&nbsp;
<div class="block"><i>已过时，请使用<code>#getConversation(String, ChatType)</code>替代</i></div>
</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../com/easemob/chat/EMConversation.html" title="com.easemob.chat中的类">EMConversation</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/easemob/chat/EMChatManager.html#getConversationByType(java.lang.String,%20com.easemob.chat.EMConversation.EMConversationType)">getConversationByType</a></strong>(java.lang.String&nbsp;username,
                     <a href="../../../com/easemob/chat/EMConversation.EMConversationType.html" title="com.easemob.chat中的枚举">EMConversation.EMConversationType</a>&nbsp;type)</code>
<div class="block">please use this api to get conversation in case you want to get conversation for chatroom type</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.util.List&lt;<a href="../../../com/easemob/chat/EMConversation.html" title="com.easemob.chat中的类">EMConversation</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../com/easemob/chat/EMChatManager.html#getConversationsByType(com.easemob.chat.EMConversation.EMConversationType)">getConversationsByType</a></strong>(<a href="../../../com/easemob/chat/EMConversation.EMConversationType.html" title="com.easemob.chat中的枚举">EMConversation.EMConversationType</a>&nbsp;type)</code>
<div class="block">get list of conversations by conversation type</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.util.List&lt;java.lang.String&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../com/easemob/chat/EMChatManager.html#getConversationsUnread()">getConversationsUnread</a></strong>()</code>
<div class="block">获取有未读数的会话

 get list of user id of group id which have the unread messages</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../com/easemob/chat/EMChatManager.html#getCurrentUser()">getCurrentUser</a></strong>()</code>
<div class="block">获取当前登录用户的用户名
 
 get current logged in user id</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../com/easemob/chat/EMChatManager.html#getDeliveryAckMessageBroadcastAction()">getDeliveryAckMessageBroadcastAction</a></strong>()</code>
<div class="block"><strong>已过时。</strong>&nbsp;
<div class="block"><i>please use <code>registerEventListener</code> instead</i></div>
</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../com/easemob/chat/EncryptProvider.html" title="com.easemob.chat中的接口">EncryptProvider</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/easemob/chat/EMChatManager.html#getEncryptProvider()">getEncryptProvider</a></strong>()</code>
<div class="block">获取EncryptProvider 如果未设置, 将返回sdk 内置的encrypt provider</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../com/easemob/chat/EMChatManager.html#getIncomingCallBroadcastAction()">getIncomingCallBroadcastAction</a></strong>()</code>
<div class="block">获取音视频通话广播的action</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../com/easemob/chat/EMChatManager.html#getIncomingVoiceCallBroadcastAction()">getIncomingVoiceCallBroadcastAction</a></strong>()</code>
<div class="block"><strong>已过时。</strong>&nbsp;
<div class="block"><i>使用<a href="../../../com/easemob/chat/EMChatManager.html#getIncomingCallBroadcastAction()"><code>getIncomingCallBroadcastAction()</code></a>替代</i></div>
</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static <a href="../../../com/easemob/chat/EMChatManager.html" title="com.easemob.chat中的类">EMChatManager</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/easemob/chat/EMChatManager.html#getInstance()">getInstance</a></strong>()</code>
<div class="block">获取EMChatManager全局单例
 get global EMChatManager instance</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.util.Map&lt;java.lang.String,<a href="../../../com/easemob/chat/EMKeywordSearchInfo.html" title="com.easemob.chat中的类">EMKeywordSearchInfo</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../com/easemob/chat/EMChatManager.html#getKeywordInfoList(java.lang.String)">getKeywordInfoList</a></strong>(java.lang.String&nbsp;keyword)</code>
<div class="block">全局搜索聊天内容，如果一个会话有多条，会通过数字提示
 
 get the keyword info list by keyword</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../com/easemob/chat/EMMessage.html" title="com.easemob.chat中的类">EMMessage</a></code></td>
<td class="colLast"><code><strong><a href="../../../com/easemob/chat/EMChatManager.html#getMessage(java.lang.String)">getMessage</a></strong>(java.lang.String&nbsp;messageId)</code>
<div class="block">获取指定ID 的消息对象
 
 get message through message id</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.util.List&lt;<a href="../../../com/easemob/chat/EMMessage.html" title="com.easemob.chat中的类">EMMessage</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../com/easemob/chat/EMChatManager.html#getMessagesByKeyword(java.lang.String,%20java.lang.String,%20int,%20java.lang.String)">getMessagesByKeyword</a></strong>(java.lang.String&nbsp;keyword,
                    java.lang.String&nbsp;startMsgId,
                    int&nbsp;pageNumber,
                    java.lang.String&nbsp;username)</code>
<div class="block">根据某用户搜索得到详细的消息列表

 get message list in page by keyword for specific user</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.util.List&lt;<a href="../../../com/easemob/chat/EMMessage.html" title="com.easemob.chat中的类">EMMessage</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../com/easemob/chat/EMChatManager.html#getMessagesByMsgType(com.easemob.chat.EMMessage.Type,%20com.easemob.chat.EMMessage.ChatType,%20java.lang.String,%20java.lang.String,%20int)">getMessagesByMsgType</a></strong>(<a href="../../../com/easemob/chat/EMMessage.Type.html" title="com.easemob.chat中的枚举">EMMessage.Type</a>&nbsp;messageType,
                    <a href="../../../com/easemob/chat/EMMessage.ChatType.html" title="com.easemob.chat中的枚举">EMMessage.ChatType</a>&nbsp;chatType,
                    java.lang.String&nbsp;userName,
                    java.lang.String&nbsp;startMessageId,
                    int&nbsp;num)</code>
<div class="block">返回单聊（群聊）下的某一类型的消息列表</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../com/easemob/chat/EMChatManager.html#getNewMessageBroadcastAction()">getNewMessageBroadcastAction</a></strong>()</code>
<div class="block"><strong>已过时。</strong>&nbsp;
<div class="block"><i>please use <code>registerEventListener</code> instead</i></div>
</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../com/easemob/chat/EMChatManager.html#getOfflineMessageBroadcastAction()">getOfflineMessageBroadcastAction</a></strong>()</code>
<div class="block"><strong>已过时。</strong>&nbsp;
<div class="block"><i>please use <code>registerEventListener</code> instead</i></div>
</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.util.List&lt;<a href="../../../com/easemob/chat/EMContact.html" title="com.easemob.chat中的类">EMContact</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="../../../com/easemob/chat/EMChatManager.html#getRobotsFromServer()">getRobotsFromServer</a></strong>()</code>
<div class="block">获取Robot列表</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../com/easemob/chat/EMChatManager.html#getTotalMessageCountByMsgType(com.easemob.chat.EMMessage.Type,%20com.easemob.chat.EMMessage.ChatType,%20java.lang.String)">getTotalMessageCountByMsgType</a></strong>(<a href="../../../com/easemob/chat/EMMessage.Type.html" title="com.easemob.chat中的枚举">EMMessage.Type</a>&nbsp;messageType,
                             <a href="../../../com/easemob/chat/EMMessage.ChatType.html" title="com.easemob.chat中的枚举">EMMessage.ChatType</a>&nbsp;chatType,
                             java.lang.String&nbsp;userName)</code>
<div class="block">返回单聊（群聊）下的某一类型的消息总数</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../com/easemob/chat/EMChatManager.html#getUnreadMsgsCount()">getUnreadMsgsCount</a></strong>()</code>
<div class="block">获取未读消息计数
 
 get unread mesage count</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../com/easemob/chat/EMChatManager.html#getVoiceInputLevel()">getVoiceInputLevel</a></strong>()</code>
<div class="block">获取通话时声音输入的大小(范围0-9)</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../com/easemob/chat/EMChatManager.html#importMessage(com.easemob.chat.EMMessage,%20boolean)">importMessage</a></strong>(<a href="../../../com/easemob/chat/EMMessage.html" title="com.easemob.chat中的类">EMMessage</a>&nbsp;message,
             boolean&nbsp;addToMemory)</code>
<div class="block">向消息数据库导入一条聊天记录</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/easemob/chat/EMChatManager.html#importMessages(java.util.List)">importMessages</a></strong>(java.util.List&lt;<a href="../../../com/easemob/chat/EMMessage.html" title="com.easemob.chat中的类">EMMessage</a>&gt;&nbsp;msgs)</code>
<div class="block">向消息数据库导入多条聊天记录
 在调用次函数时要保证，消息的发送方或者接收方是当前用户
 已经对函数做过速度优化， 推荐一次导入1000条数据</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../com/easemob/chat/EMChatManager.html#isConnected()">isConnected</a></strong>()</code>
<div class="block">检查是否连接到聊天服务器
 
 check if we are connected.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../com/easemob/chat/EMChatManager.html#isDirectCall()">isDirectCall</a></strong>()</code>
<div class="block">返回当前通话时是否为P2P直连

 check if that's a P2P call</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../com/easemob/chat/EMChatManager.html#isSlientMessage(com.easemob.chat.EMMessage)">isSlientMessage</a></strong>(<a href="../../../com/easemob/chat/EMMessage.html" title="com.easemob.chat中的类">EMMessage</a>&nbsp;message)</code>
<div class="block">判断是否是免打扰的消息

 check if the message is kind of slient message, if that's it, app should not play tone or vibrate</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/easemob/chat/EMChatManager.html#joinChatRoom(java.lang.String,%20com.easemob.EMValueCallBack)">joinChatRoom</a></strong>(java.lang.String&nbsp;roomId,
            <a href="../../../com/easemob/EMValueCallBack.html" title="com.easemob中的接口">EMValueCallBack</a>&lt;<a href="../../../com/easemob/chat/EMChatRoom.html" title="com.easemob.chat中的类">EMChatRoom</a>&gt;&nbsp;callback)</code>
<div class="block">加入聊天室
 
 join the chat room asynchronously

 
 example:
 
 
 
        public void api_joinChatRoom(final String roomId){
        new Thread(){</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/easemob/chat/EMChatManager.html#leaveChatRoom(java.lang.String)">leaveChatRoom</a></strong>(java.lang.String&nbsp;roomId)</code>
<div class="block">离开聊天室,SDK保证聊天室退出成功,无论网络情况如何

 leave chat room and sdk will ensure leaving is successful whenever what happens, for example, no network.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/easemob/chat/EMChatManager.html#loadAllConversations()">loadAllConversations</a></strong>()</code>
<div class="block">同步加载所有的会话，并且每条会话读入EMChatOptions.getNumberOfMessagesLoaded()条消息, 默认是20条以保持兼容
 APP可以在用EMChatOptions.setNumberOfMessagesLoaded去设置初始条数(建议是1)</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/easemob/chat/EMChatManager.html#loadAllConversations(com.easemob.EMCallBack)">loadAllConversations</a></strong>(<a href="../../../com/easemob/EMCallBack.html" title="com.easemob中的接口">EMCallBack</a>&nbsp;callback)</code>
<div class="block"><strong>已过时。</strong>&nbsp;
<div class="block"><i>过时请使用 <code>asyncloadAllConversations(EMCallBack callback)</code> instead</i></div>
</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/easemob/chat/EMChatManager.html#login(java.lang.String,%20java.lang.String,%20com.easemob.EMCallBack)">login</a></strong>(java.lang.String&nbsp;username,
     java.lang.String&nbsp;password,
     <a href="../../../com/easemob/EMCallBack.html" title="com.easemob中的接口">EMCallBack</a>&nbsp;callback)</code>
<div class="block">登陆到聊天服务器
 环信郑重提示此login函数是用来登录环信账号的初始化API,在回调函数没有返回的情况下重复多次调用此函数会导致负面的影响
 自动登录的情况下(就是之前登录过从没注销过),无需再次调用此函数,在这种情况下,客户端可以通过监听连接回调函数<code>addConnectionListener(final EMConnectionListener listener)</code>,来进一步处理连接成功后的业务

 login to easemob server

 Please try to call this api again until last call to this api is returned, otherwise multiple calls to this api will cause side effect.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/easemob/chat/EMChatManager.html#logout()">logout</a></strong>()</code>
<div class="block">此方法改成同步登出聊天服务器
 如果需要异步请参考<code>logout(final EMCallBack callback)</code>

 logout easemob IM server synchronously
 in case if you need an asynchronously API, please use <code>logout(final EMCallBack callback)</code></div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../com/easemob/chat/EMChatManager.html#logout(boolean)">logout</a></strong>(boolean&nbsp;isUnbindDeviceToken)</code>
<div class="block">此方法改成同步登出聊天服务器(国际化)
 如果需要异步请参考<code>logout(final boolean isUnbindDeviceToken,final EMCallBack callback)</code>
 
 logout synchronously and support GCM push</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/easemob/chat/EMChatManager.html#logout(boolean,%20com.easemob.EMCallBack)">logout</a></strong>(boolean&nbsp;isUnbindDeviceToken,
      <a href="../../../com/easemob/EMCallBack.html" title="com.easemob中的接口">EMCallBack</a>&nbsp;callback)</code>
<div class="block">异步登出聊天服务器(国际化)
 请等待callback回调，再继续做和环信sdk相关的操作</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/easemob/chat/EMChatManager.html#logout(com.easemob.EMCallBack)">logout</a></strong>(<a href="../../../com/easemob/EMCallBack.html" title="com.easemob中的接口">EMCallBack</a>&nbsp;callback)</code>
<div class="block">异步登出聊天服务器
 请等待callback回调，再继续做和环信sdk相关的操作

 logout easemob IM server asynchronously</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/easemob/chat/EMChatManager.html#makeVideoCall(java.lang.String)">makeVideoCall</a></strong>(java.lang.String&nbsp;to)</code>
<div class="block">拨打视频通话</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/easemob/chat/EMChatManager.html#makeVoiceCall(java.lang.String)">makeVoiceCall</a></strong>(java.lang.String&nbsp;to)</code>
<div class="block">拨打语音通话</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/easemob/chat/EMChatManager.html#markAllConversationsAsRead()">markAllConversationsAsRead</a></strong>()</code>
<div class="block">把所有的会话都设成已读

 mark all messages as unread</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/easemob/chat/EMChatManager.html#onReconnectionSuccessful()">onReconnectionSuccessful</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/easemob/chat/EMChatManager.html#pauseVoiceTransfer()">pauseVoiceTransfer</a></strong>()</code>
<div class="block">实时通话时暂停语音数据传输</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/easemob/chat/EMChatManager.html#refuseInvitation(java.lang.String)">refuseInvitation</a></strong>(java.lang.String&nbsp;username)</code>
<div class="block">拒绝好友请求
 
 reject the invitation sent by peer</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/easemob/chat/EMChatManager.html#registerEventListener(com.easemob.EMEventListener)">registerEventListener</a></strong>(<a href="../../../com/easemob/EMEventListener.html" title="com.easemob中的接口">EMEventListener</a>&nbsp;listener)</code>
<div class="block">注册消息事件监听，此listener会收到所有类型的event事件，如果对某种或某些类型的事件感兴趣，可以用<code>registerEventListener(EMEventListener listener, EMNotifierEvent.EventType[] types)</code>

 register the event listener</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/easemob/chat/EMChatManager.html#registerEventListener(com.easemob.EMEventListener,%20com.easemob.EMNotifierEvent.Event[])">registerEventListener</a></strong>(<a href="../../../com/easemob/EMEventListener.html" title="com.easemob中的接口">EMEventListener</a>&nbsp;listener,
                     <a href="../../../com/easemob/EMNotifierEvent.Event.html" title="com.easemob中的枚举">EMNotifierEvent.Event</a>[]&nbsp;events)</code>
<div class="block">注册对某些消息事件类型感兴趣的监听，SDK只会给注册这种类型的listener发通知
 
 reister the event listener which is interested in some specific events</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/easemob/chat/EMChatManager.html#rejectCall()">rejectCall</a></strong>()</code>
<div class="block">拒绝接听</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/easemob/chat/EMChatManager.html#removeCallStateChangeListener(com.easemob.chat.EMCallStateChangeListener)">removeCallStateChangeListener</a></strong>(<a href="../../../com/easemob/chat/EMCallStateChangeListener.html" title="com.easemob.chat中的接口">EMCallStateChangeListener</a>&nbsp;listener)</code>
<div class="block">移除通话监听</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/easemob/chat/EMChatManager.html#removeChatRoomChangeListener(com.easemob.EMChatRoomChangeListener)">removeChatRoomChangeListener</a></strong>(<a href="../../../com/easemob/EMChatRoomChangeListener.html" title="com.easemob中的接口">EMChatRoomChangeListener</a>&nbsp;listener)</code>
<div class="block">移除聊天室事件监听

 remove chat room change listener</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/easemob/chat/EMChatManager.html#removeConnectionListener(com.easemob.chat.ConnectionListener)">removeConnectionListener</a></strong>(<a href="../../../com/easemob/chat/ConnectionListener.html" title="com.easemob.chat中的接口">ConnectionListener</a>&nbsp;listener)</code>
<div class="block"><strong>已过时。</strong>&nbsp;
<div class="block"><i>use {@link removeConnectionListener(EMConnectionListener
             listener) instead</i></div>
</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/easemob/chat/EMChatManager.html#removeConnectionListener(com.easemob.EMConnectionListener)">removeConnectionListener</a></strong>(<a href="../../../com/easemob/EMConnectionListener.html" title="com.easemob中的接口">EMConnectionListener</a>&nbsp;listener)</code>
<div class="block">移除 connection listener
 
 remove connection listener</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/easemob/chat/EMChatManager.html#resetAllUnreadMsgCount()">resetAllUnreadMsgCount</a></strong>()</code>
<div class="block"><strong>已过时。</strong>&nbsp;
<div class="block"><i>use <a href="../../../com/easemob/chat/EMChatManager.html#markAllConversationsAsRead()"><code>markAllConversationsAsRead()</code></a></i></div>
</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/easemob/chat/EMChatManager.html#resumeVoiceTransfer()">resumeVoiceTransfer</a></strong>()</code>
<div class="block">实时通话时恢复语音数据传输</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/easemob/chat/EMChatManager.html#saveMessage(com.easemob.chat.EMMessage)">saveMessage</a></strong>(<a href="../../../com/easemob/chat/EMMessage.html" title="com.easemob.chat中的类">EMMessage</a>&nbsp;message)</code>
<div class="block">保存用户app 生成的消息，比如系统提示 消息会存到内存中的conversation 和数据库
 
 save the message to memory and db</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/easemob/chat/EMChatManager.html#saveMessage(com.easemob.chat.EMMessage,%20boolean)">saveMessage</a></strong>(<a href="../../../com/easemob/chat/EMMessage.html" title="com.easemob.chat中的类">EMMessage</a>&nbsp;message,
           boolean&nbsp;unreadcountIncrease)</code>
<div class="block">保存用户app 生成的消息，比如系统提示 消息会存到内存中的conversation 和数据库</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/easemob/chat/EMChatManager.html#sendGroupMessage(com.easemob.chat.EMMessage,%20com.easemob.EMCallBack)">sendGroupMessage</a></strong>(<a href="../../../com/easemob/chat/EMMessage.html" title="com.easemob.chat中的类">EMMessage</a>&nbsp;msg,
                <a href="../../../com/easemob/EMCallBack.html" title="com.easemob中的接口">EMCallBack</a>&nbsp;callback)</code>
<div class="block"><strong>已过时。</strong>&nbsp;
<div class="block"><i>已过时，请使用<a href="../../../com/easemob/chat/EMChatManager.html#sendMessage(com.easemob.chat.EMMessage,%20com.easemob.EMCallBack)"><code>sendMessage(EMMessage, EMCallBack)</code></a>替代,</i></div>
</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/easemob/chat/EMChatManager.html#sendMessage(com.easemob.chat.EMMessage)">sendMessage</a></strong>(<a href="../../../com/easemob/chat/EMMessage.html" title="com.easemob.chat中的类">EMMessage</a>&nbsp;msg)</code>
<div class="block">异步发送消息 如果是语音，图片类有附件的消息，sdk 会自动上传附件

 send message asynchronously and since SDK v2.2.2, msg status change notification will be notifyied through EMMessage status callback 
 and you can set this message status callback through EMMessage.setMessageStatusCallback</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/easemob/chat/EMChatManager.html#sendMessage(com.easemob.chat.EMMessage,%20com.easemob.EMCallBack)">sendMessage</a></strong>(<a href="../../../com/easemob/chat/EMMessage.html" title="com.easemob.chat中的类">EMMessage</a>&nbsp;msg,
           <a href="../../../com/easemob/EMCallBack.html" title="com.easemob中的接口">EMCallBack</a>&nbsp;callback)</code>
<div class="block">异步发送消息， 通过回调通知用户发送状态</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/easemob/chat/EMChatManager.html#setChatOptions(com.easemob.chat.EMChatOptions)">setChatOptions</a></strong>(<a href="../../../com/easemob/chat/EMChatOptions.html" title="com.easemob.chat中的类">EMChatOptions</a>&nbsp;chatOptions)</code>
<div class="block">设置聊天sdk 的相关参数，配置 可以在应用启动的时候设置相应的值。</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/easemob/chat/EMChatManager.html#setEncryptProvider(com.easemob.chat.EncryptProvider)">setEncryptProvider</a></strong>(<a href="../../../com/easemob/chat/EncryptProvider.html" title="com.easemob.chat中的接口">EncryptProvider</a>&nbsp;provider)</code>
<div class="block">设置应用的加密实现 如果未设置，SDK 会使用内置的加密算法
 
 set the encrypt provider.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/easemob/chat/EMChatManager.html#setGCMProjectNumber(java.lang.String)">setGCMProjectNumber</a></strong>(java.lang.String&nbsp;projectNumber)</code>
<div class="block">for GCM support, to set GCM number</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/easemob/chat/EMChatManager.html#setMessageListened(com.easemob.chat.EMMessage)">setMessageListened</a></strong>(<a href="../../../com/easemob/chat/EMMessage.html" title="com.easemob.chat中的类">EMMessage</a>&nbsp;message)</code>
<div class="block">mark the audio/video message has been listened</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../com/easemob/chat/EMChatManager.html#unregisterEventListener(com.easemob.EMEventListener)">unregisterEventListener</a></strong>(<a href="../../../com/easemob/EMEventListener.html" title="com.easemob中的接口">EMEventListener</a>&nbsp;listener)</code>
<div class="block">移除消息事件监听

 remove the event listener</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../com/easemob/chat/EMChatManager.html#updateCurrentUserNick(java.lang.String)">updateCurrentUserNick</a></strong>(java.lang.String&nbsp;nickname)</code>
<div class="block">更新当前用户的nickname
 
 此方法主要为了在苹果推送时能够推送nick而不是userid 一般可以在登陆成功后从自己服务器获取到个人信息，然后拿到nick更新到环信服务器
 并且，在个人信息中如果更改个人的昵称，也要把环信服务器更新下nickname 防止显示差异</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../com/easemob/chat/EMChatManager.html#updateMessageBody(com.easemob.chat.EMMessage)">updateMessageBody</a></strong>(<a href="../../../com/easemob/chat/EMMessage.html" title="com.easemob.chat中的类">EMMessage</a>&nbsp;message)</code>
<div class="block">更新消息体 更新消息体，消息体的内容会被保存到本地</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>从类继承的方法&nbsp;java.lang.Object</h3>
<code>equals, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>方法详细资料</h3>
<a name="login(java.lang.String, java.lang.String, com.easemob.EMCallBack)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>login</h4>
<pre>public&nbsp;void&nbsp;login(java.lang.String&nbsp;username,
         java.lang.String&nbsp;password,
         <a href="../../../com/easemob/EMCallBack.html" title="com.easemob中的接口">EMCallBack</a>&nbsp;callback)</pre>
<div class="block">登陆到聊天服务器
 环信郑重提示此login函数是用来登录环信账号的初始化API,在回调函数没有返回的情况下重复多次调用此函数会导致负面的影响
 自动登录的情况下(就是之前登录过从没注销过),无需再次调用此函数,在这种情况下,客户端可以通过监听连接回调函数<code>addConnectionListener(final EMConnectionListener listener)</code>,来进一步处理连接成功后的业务

 login to easemob server

 Please try to call this api again until last call to this api is returned, otherwise multiple calls to this api will cause side effect.
 for automatic login - did not logout once loggged in before, the app should monitor the conneciton status by adding conneciton listener through <code>addConnectionListener(final EMConnectionListener listener)</code></div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>username</code> - 用户名</dd><dd><code>password</code> - 密码</dd><dd><code>callback</code> - 回调函数, 如果是null，会报IllegalArgumentException异常。</dd></dl>
</li>
</ul>
<a name="logout()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>logout</h4>
<pre>public&nbsp;void&nbsp;logout()</pre>
<div class="block">此方法改成同步登出聊天服务器
 如果需要异步请参考<code>logout(final EMCallBack callback)</code>

 logout easemob IM server synchronously
 in case if you need an asynchronously API, please use <code>logout(final EMCallBack callback)</code></div>
</li>
</ul>
<a name="logout(com.easemob.EMCallBack)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>logout</h4>
<pre>public&nbsp;void&nbsp;logout(<a href="../../../com/easemob/EMCallBack.html" title="com.easemob中的接口">EMCallBack</a>&nbsp;callback)</pre>
<div class="block">异步登出聊天服务器
 请等待callback回调，再继续做和环信sdk相关的操作

 logout easemob IM server asynchronously</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>callback</code> - logout执行完毕后的回调</dd></dl>
</li>
</ul>
<a name="logout(boolean, com.easemob.EMCallBack)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>logout</h4>
<pre>public&nbsp;void&nbsp;logout(boolean&nbsp;isUnbindDeviceToken,
          <a href="../../../com/easemob/EMCallBack.html" title="com.easemob中的接口">EMCallBack</a>&nbsp;callback)</pre>
<div class="block">异步登出聊天服务器(国际化)
 请等待callback回调，再继续做和环信sdk相关的操作</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>callback</code> - logout执行完毕后的回调</dd><dd><code>isUnbindDeviceToken</code> - 是否移除之前绑定的push device token</dd>
<dt><span class="strong">抛出:</span></dt>
<dd><code>java.lang.RuntimeException</code> - if callback is null, will throw RuntimeException</dd></dl>
</li>
</ul>
<a name="logout(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>logout</h4>
<pre>public&nbsp;int&nbsp;logout(boolean&nbsp;isUnbindDeviceToken)</pre>
<div class="block">此方法改成同步登出聊天服务器(国际化)
 如果需要异步请参考<code>logout(final boolean isUnbindDeviceToken,final EMCallBack callback)</code>
 
 logout synchronously and support GCM push</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>isUnbindDeviceToken</code> - </dd>
<dt><span class="strong">返回:</span></dt><dd>EMError.NO_ERROR if logout 成功, EMError.ERROR_UNBIND_DEVICETOKEN if 解绑device token 失败</dd></dl>
</li>
</ul>
<a name="createAccountOnServer(java.lang.String, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createAccountOnServer</h4>
<pre>public&nbsp;void&nbsp;createAccountOnServer(java.lang.String&nbsp;username,
                         java.lang.String&nbsp;password)
                           throws com.easemob.exceptions.EaseMobException</pre>
<div class="block">创建新的用户 因为需要网络访问，此方法需要运行在单独的线程或AsyncTask中
 
 create a new easemob user account and this api is only supported when you mark your app as unauthorized user registration in easemob management console</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>username</code> - 用户名</dd><dd><code>password</code> - 密码</dd>
<dt><span class="strong">抛出:</span></dt>
<dd><code>com.easemob.exceptions.EaseMobException</code></dd></dl>
</li>
</ul>
<a name="isConnected()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isConnected</h4>
<pre>public&nbsp;boolean&nbsp;isConnected()</pre>
<div class="block">检查是否连接到聊天服务器
 
 check if we are connected.</div>
<dl><dt><span class="strong">返回:</span></dt><dd></dd></dl>
</li>
</ul>
<a name="registerEventListener(com.easemob.EMEventListener)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>registerEventListener</h4>
<pre>public&nbsp;void&nbsp;registerEventListener(<a href="../../../com/easemob/EMEventListener.html" title="com.easemob中的接口">EMEventListener</a>&nbsp;listener)</pre>
<div class="block">注册消息事件监听，此listener会收到所有类型的event事件，如果对某种或某些类型的事件感兴趣，可以用<code>registerEventListener(EMEventListener listener, EMNotifierEvent.EventType[] types)</code>

 register the event listener</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>listener</code> - see <a href="../../../com/easemob/EMEventListener.html" title="com.easemob中的接口"><code>EMEventListener</code></a></dd></dl>
</li>
</ul>
<a name="registerEventListener(com.easemob.EMEventListener, com.easemob.EMNotifierEvent.Event[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>registerEventListener</h4>
<pre>public&nbsp;void&nbsp;registerEventListener(<a href="../../../com/easemob/EMEventListener.html" title="com.easemob中的接口">EMEventListener</a>&nbsp;listener,
                         <a href="../../../com/easemob/EMNotifierEvent.Event.html" title="com.easemob中的枚举">EMNotifierEvent.Event</a>[]&nbsp;events)</pre>
<div class="block">注册对某些消息事件类型感兴趣的监听，SDK只会给注册这种类型的listener发通知
 
 reister the event listener which is interested in some specific events</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>listener</code> - <a href="../../../com/easemob/EMEventListener.html" title="com.easemob中的接口"><code>EMEventListener</code></a></dd><dd><code>types</code> - 关注的event类型 see <code>EMNotifierEvent.EventType</code>
              the interested event types</dd></dl>
</li>
</ul>
<a name="unregisterEventListener(com.easemob.EMEventListener)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>unregisterEventListener</h4>
<pre>public&nbsp;void&nbsp;unregisterEventListener(<a href="../../../com/easemob/EMEventListener.html" title="com.easemob中的接口">EMEventListener</a>&nbsp;listener)</pre>
<div class="block">移除消息事件监听

 remove the event listener</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>listener</code> - </dd></dl>
</li>
</ul>
<a name="getInstance()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getInstance</h4>
<pre>public static&nbsp;<a href="../../../com/easemob/chat/EMChatManager.html" title="com.easemob.chat中的类">EMChatManager</a>&nbsp;getInstance()</pre>
<div class="block">获取EMChatManager全局单例
 get global EMChatManager instance</div>
<dl><dt><span class="strong">返回:</span></dt><dd>global EMChatManager instance</dd></dl>
</li>
</ul>
<a name="acceptInvitation(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>acceptInvitation</h4>
<pre>public&nbsp;void&nbsp;acceptInvitation(java.lang.String&nbsp;username)
                      throws com.easemob.exceptions.EaseMobException</pre>
<div class="block">同意好友请求
 
 accept the invitation sent by the peer</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>username</code> - </dd>
<dt><span class="strong">抛出:</span></dt>
<dd><code>com.easemob.exceptions.EaseMobException</code></dd></dl>
</li>
</ul>
<a name="refuseInvitation(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>refuseInvitation</h4>
<pre>public&nbsp;void&nbsp;refuseInvitation(java.lang.String&nbsp;username)
                      throws com.easemob.exceptions.EaseMobException</pre>
<div class="block">拒绝好友请求
 
 reject the invitation sent by peer</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>username</code> - </dd>
<dt><span class="strong">抛出:</span></dt>
<dd><code>com.easemob.exceptions.EaseMobException</code></dd></dl>
</li>
</ul>
<a name="sendMessage(com.easemob.chat.EMMessage)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sendMessage</h4>
<pre>public&nbsp;void&nbsp;sendMessage(<a href="../../../com/easemob/chat/EMMessage.html" title="com.easemob.chat中的类">EMMessage</a>&nbsp;msg)
                 throws com.easemob.exceptions.EaseMobException</pre>
<div class="block">异步发送消息 如果是语音，图片类有附件的消息，sdk 会自动上传附件

 send message asynchronously and since SDK v2.2.2, msg status change notification will be notifyied through EMMessage status callback 
 and you can set this message status callback through EMMessage.setMessageStatusCallback</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>msg</code> - 待发送消息对象</dd>
<dt><span class="strong">抛出:</span></dt>
<dd><code>com.easemob.exceptions.EaseMobException</code> - 网络错误或其它异常</dd></dl>
</li>
</ul>
<a name="sendMessage(com.easemob.chat.EMMessage, com.easemob.EMCallBack)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sendMessage</h4>
<pre>public&nbsp;void&nbsp;sendMessage(<a href="../../../com/easemob/chat/EMMessage.html" title="com.easemob.chat中的类">EMMessage</a>&nbsp;msg,
               <a href="../../../com/easemob/EMCallBack.html" title="com.easemob中的接口">EMCallBack</a>&nbsp;callback)</pre>
<div class="block">异步发送消息， 通过回调通知用户发送状态</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>msg</code> - 待发送消息</dd><dd><code>callback</code> - 发送进度/状态回调函数</dd>
<dt><span class="strong">抛出:</span></dt>
<dd><code>com.easemob.exceptions.EaseMobException</code> - 网络错误或其它异常</dd></dl>
</li>
</ul>
<a name="sendGroupMessage(com.easemob.chat.EMMessage, com.easemob.EMCallBack)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sendGroupMessage</h4>
<pre>public&nbsp;void&nbsp;sendGroupMessage(<a href="../../../com/easemob/chat/EMMessage.html" title="com.easemob.chat中的类">EMMessage</a>&nbsp;msg,
                    <a href="../../../com/easemob/EMCallBack.html" title="com.easemob中的接口">EMCallBack</a>&nbsp;callback)</pre>
<div class="block"><span class="strong">已过时。</span>&nbsp;<i>已过时，请使用<a href="../../../com/easemob/chat/EMChatManager.html#sendMessage(com.easemob.chat.EMMessage,%20com.easemob.EMCallBack)"><code>sendMessage(EMMessage, EMCallBack)</code></a>替代,</i></div>
<div class="block">异步发送群组消息， 通过回调通知用户发送状态
 
 deprecated</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>msg</code> - 待发送消息</dd><dd><code>callback</code> - 发送进度/状态回调函数</dd>
<dt><span class="strong">抛出:</span></dt>
<dd><code>com.easemob.exceptions.EaseMobException</code> - 网络错误或其它异常</dd></dl>
</li>
</ul>
<a name="getNewMessageBroadcastAction()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getNewMessageBroadcastAction</h4>
<pre>public&nbsp;java.lang.String&nbsp;getNewMessageBroadcastAction()</pre>
<div class="block"><span class="strong">已过时。</span>&nbsp;<i>please use <code>registerEventListener</code> instead</i></div>
<div class="block">获取本应用的 消息接收 Broadcast Action</div>
<dl><dt><span class="strong">返回:</span></dt><dd></dd></dl>
</li>
</ul>
<a name="getCmdMessageBroadcastAction()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCmdMessageBroadcastAction</h4>
<pre>public&nbsp;java.lang.String&nbsp;getCmdMessageBroadcastAction()</pre>
<div class="block"><span class="strong">已过时。</span>&nbsp;<i>please use <code>registerEventListener</code> instead</i></div>
<div class="block">获取cmd消息广播action(这种消息sdk不会保存到聊天消息里，也不会声音提示)</div>
<dl><dt><span class="strong">返回:</span></dt><dd></dd></dl>
</li>
</ul>
<a name="getAckMessageBroadcastAction()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAckMessageBroadcastAction</h4>
<pre>public&nbsp;java.lang.String&nbsp;getAckMessageBroadcastAction()</pre>
<div class="block"><span class="strong">已过时。</span>&nbsp;<i>please use <code>registerEventListener</code> instead</i></div>
</li>
</ul>
<a name="getDeliveryAckMessageBroadcastAction()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDeliveryAckMessageBroadcastAction</h4>
<pre>public&nbsp;java.lang.String&nbsp;getDeliveryAckMessageBroadcastAction()</pre>
<div class="block"><span class="strong">已过时。</span>&nbsp;<i>please use <code>registerEventListener</code> instead</i></div>
</li>
</ul>
<a name="getContactInviteEventBroadcastAction()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getContactInviteEventBroadcastAction</h4>
<pre>public&nbsp;java.lang.String&nbsp;getContactInviteEventBroadcastAction()</pre>
</li>
</ul>
<a name="getOfflineMessageBroadcastAction()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getOfflineMessageBroadcastAction</h4>
<pre>public&nbsp;java.lang.String&nbsp;getOfflineMessageBroadcastAction()</pre>
<div class="block"><span class="strong">已过时。</span>&nbsp;<i>please use <code>registerEventListener</code> instead</i></div>
</li>
</ul>
<a name="getIncomingVoiceCallBroadcastAction()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getIncomingVoiceCallBroadcastAction</h4>
<pre>public&nbsp;java.lang.String&nbsp;getIncomingVoiceCallBroadcastAction()</pre>
<div class="block"><span class="strong">已过时。</span>&nbsp;<i>使用<a href="../../../com/easemob/chat/EMChatManager.html#getIncomingCallBroadcastAction()"><code>getIncomingCallBroadcastAction()</code></a>替代</i></div>
<dl><dt><span class="strong">返回:</span></dt><dd></dd></dl>
</li>
</ul>
<a name="getIncomingCallBroadcastAction()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getIncomingCallBroadcastAction</h4>
<pre>public&nbsp;java.lang.String&nbsp;getIncomingCallBroadcastAction()</pre>
<div class="block">获取音视频通话广播的action</div>
<dl><dt><span class="strong">返回:</span></dt><dd></dd></dl>
</li>
</ul>
<a name="ackMessageRead(java.lang.String, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ackMessageRead</h4>
<pre>public&nbsp;void&nbsp;ackMessageRead(java.lang.String&nbsp;to,
                  java.lang.String&nbsp;messageId)
                    throws com.easemob.exceptions.EaseMobException</pre>
<div class="block">发送消息已读回执
 
 send read ack to server</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>to</code> - 接收方的用户名</dd><dd><code>messageId</code> - 消息的ID</dd>
<dt><span class="strong">抛出:</span></dt>
<dd><code>com.easemob.exceptions.EaseMobException</code></dd></dl>
</li>
</ul>
<a name="setMessageListened(com.easemob.chat.EMMessage)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setMessageListened</h4>
<pre>public&nbsp;void&nbsp;setMessageListened(<a href="../../../com/easemob/chat/EMMessage.html" title="com.easemob.chat中的类">EMMessage</a>&nbsp;message)</pre>
<div class="block">mark the audio/video message has been listened</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>message</code> - </dd></dl>
</li>
</ul>
<a name="addConnectionListener(com.easemob.chat.ConnectionListener)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addConnectionListener</h4>
<pre>public&nbsp;void&nbsp;addConnectionListener(<a href="../../../com/easemob/chat/ConnectionListener.html" title="com.easemob.chat中的接口">ConnectionListener</a>&nbsp;listener)</pre>
<div class="block"><span class="strong">已过时。</span>&nbsp;<i>please use new API <code>addConnectionListener(final
             EMConnectionListener listener)</code> instead</i></div>
<div class="block">添加 connection listener
 
 register the conneciton listener</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>listener</code> - </dd></dl>
</li>
</ul>
<a name="addConnectionListener(com.easemob.EMConnectionListener)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addConnectionListener</h4>
<pre>public&nbsp;void&nbsp;addConnectionListener(<a href="../../../com/easemob/EMConnectionListener.html" title="com.easemob中的接口">EMConnectionListener</a>&nbsp;listener)</pre>
<div class="block">add the connection listener to monitor the connection state APP should
 not update the UI directly in the callback functions defined in
 EMConnectionListener</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>listener</code> - </dd></dl>
</li>
</ul>
<a name="removeConnectionListener(com.easemob.chat.ConnectionListener)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeConnectionListener</h4>
<pre>public&nbsp;void&nbsp;removeConnectionListener(<a href="../../../com/easemob/chat/ConnectionListener.html" title="com.easemob.chat中的接口">ConnectionListener</a>&nbsp;listener)</pre>
<div class="block"><span class="strong">已过时。</span>&nbsp;<i>use {@link removeConnectionListener(EMConnectionListener
             listener) instead</i></div>
<div class="block">移除 connection listener
 
 remove the connection listener</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>listener</code> - </dd></dl>
</li>
</ul>
<a name="removeConnectionListener(com.easemob.EMConnectionListener)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeConnectionListener</h4>
<pre>public&nbsp;void&nbsp;removeConnectionListener(<a href="../../../com/easemob/EMConnectionListener.html" title="com.easemob中的接口">EMConnectionListener</a>&nbsp;listener)</pre>
<div class="block">移除 connection listener
 
 remove connection listener</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>listener</code> - </dd></dl>
</li>
</ul>
<a name="getMessage(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMessage</h4>
<pre>public&nbsp;<a href="../../../com/easemob/chat/EMMessage.html" title="com.easemob.chat中的类">EMMessage</a>&nbsp;getMessage(java.lang.String&nbsp;messageId)</pre>
<div class="block">获取指定ID 的消息对象
 
 get message through message id</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>messageId</code> - 消息ID</dd>
<dt><span class="strong">返回:</span></dt><dd></dd></dl>
</li>
</ul>
<a name="getConversation(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getConversation</h4>
<pre>public&nbsp;<a href="../../../com/easemob/chat/EMConversation.html" title="com.easemob.chat中的类">EMConversation</a>&nbsp;getConversation(java.lang.String&nbsp;username)</pre>
<div class="block">获取和指定用户或者群组的对话
 
 get conversation through user id or group id

 typically you don't need to pass any type of conversation to get the conversation if you don't work on the chatroom
 otherwise you should pass by the conversation type <code>getConversationByType(String username, EMConversationType type)</code></div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>username</code> - 用户名或者群组id</dd>
<dt><span class="strong">返回:</span></dt><dd></dd></dl>
</li>
</ul>
<a name="getConversation(java.lang.String, boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getConversation</h4>
<pre>public&nbsp;<a href="../../../com/easemob/chat/EMConversation.html" title="com.easemob.chat中的类">EMConversation</a>&nbsp;getConversation(java.lang.String&nbsp;username,
                             boolean&nbsp;isGroup)</pre>
<div class="block"><span class="strong">已过时。</span>&nbsp;<i>已过时，请使用<code>#getConversation(String, ChatType)</code>替代</i></div>
<div class="block">获取和指定用户或者群组的对话</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>username</code> - 用户名或者群组id</dd><dd><code>isGroup</code> - 指定明确会话类型，true为群聊</dd>
<dt><span class="strong">返回:</span></dt><dd></dd></dl>
</li>
</ul>
<a name="getConversationByType(java.lang.String, com.easemob.chat.EMConversation.EMConversationType)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getConversationByType</h4>
<pre>public&nbsp;<a href="../../../com/easemob/chat/EMConversation.html" title="com.easemob.chat中的类">EMConversation</a>&nbsp;getConversationByType(java.lang.String&nbsp;username,
                                   <a href="../../../com/easemob/chat/EMConversation.EMConversationType.html" title="com.easemob.chat中的枚举">EMConversation.EMConversationType</a>&nbsp;type)</pre>
<div class="block">please use this api to get conversation in case you want to get conversation for chatroom type</div>
</li>
</ul>
<a name="deleteConversation(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deleteConversation</h4>
<pre>public&nbsp;boolean&nbsp;deleteConversation(java.lang.String&nbsp;username)</pre>
<div class="block">删除和指定用户的对话(包括删除本地的聊天记录)
 
 delete conversation and all message history in this conversation</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>username</code> - 用户名</dd>
<dt><span class="strong">返回:</span></dt><dd>删除失败或者不存在此user的conversation返回false</dd></dl>
</li>
</ul>
<a name="deleteAllConversation()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deleteAllConversation</h4>
<pre>public&nbsp;void&nbsp;deleteAllConversation()</pre>
<div class="block">删除所有会话
 
 delete all conversations and all message history</div>
</li>
</ul>
<a name="resetAllUnreadMsgCount()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>resetAllUnreadMsgCount</h4>
<pre>public&nbsp;void&nbsp;resetAllUnreadMsgCount()</pre>
<div class="block"><span class="strong">已过时。</span>&nbsp;<i>use <a href="../../../com/easemob/chat/EMChatManager.html#markAllConversationsAsRead()"><code>markAllConversationsAsRead()</code></a></i></div>
<div class="block">整个application消息未读数清零
 
 mark all messages as unread</div>
</li>
</ul>
<a name="markAllConversationsAsRead()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>markAllConversationsAsRead</h4>
<pre>public&nbsp;void&nbsp;markAllConversationsAsRead()</pre>
<div class="block">把所有的会话都设成已读

 mark all messages as unread</div>
</li>
</ul>
<a name="deleteConversation(java.lang.String, boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deleteConversation</h4>
<pre>public&nbsp;boolean&nbsp;deleteConversation(java.lang.String&nbsp;username,
                         boolean&nbsp;isGroup)</pre>
<div class="block">删除和指定用户或者群聊的对话(包括删除本地的聊天记录)
 
 delete conversation and all history messages</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>username</code> - 用户名或者群聊id</dd><dd><code>isGroup</code> - 是否为群聊(群组或者聊天室)会话</dd>
<dt><span class="strong">返回:</span></dt><dd>删除失败或者不存在此user的conversation返回false</dd></dl>
</li>
</ul>
<a name="deleteConversation(java.lang.String, boolean, boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deleteConversation</h4>
<pre>public&nbsp;boolean&nbsp;deleteConversation(java.lang.String&nbsp;username,
                         boolean&nbsp;isGroup,
                         boolean&nbsp;deleteMessages)</pre>
<div class="block">删除和指定用户或者群聊的对话(包括删除本地的聊天记录)
 
 delete conversation and optionally delete all history messages</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>username</code> - 用户名或者群聊id</dd><dd><code>isGroup</code> - 是否为群聊(群组或者聊天室)会话</dd><dd><code>deleteMessages</code> - 删除该会话的全部消息记录</dd>
<dt><span class="strong">返回:</span></dt><dd>删除失败或者不存在此user的conversation返回false</dd></dl>
</li>
</ul>
<a name="clearConversation(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>clearConversation</h4>
<pre>public&nbsp;boolean&nbsp;clearConversation(java.lang.String&nbsp;username)</pre>
<div class="block">清空和指定用户或者群聊的会话(包括删除本地的聊天记录) <br/>
 <b>和deleteConversation的区别是: 这个会保留conversation这个对象,
 当用户处于聊天页面或者类似上一页是聊天页面，清空消息时务必调用此方法，否则 清空后再来此用户的消息,ui上会有bug<b/></div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>username</code> - 用户名或群聊id</dd>
<dt><span class="strong">返回:</span></dt><dd></dd></dl>
</li>
</ul>
<a name="loadAllConversations(com.easemob.EMCallBack)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>loadAllConversations</h4>
<pre>public&nbsp;void&nbsp;loadAllConversations(<a href="../../../com/easemob/EMCallBack.html" title="com.easemob中的接口">EMCallBack</a>&nbsp;callback)</pre>
<div class="block"><span class="strong">已过时。</span>&nbsp;<i>过时请使用 <code>asyncloadAllConversations(EMCallBack callback)</code> instead</i></div>
<div class="block">load all conversations with 20 messages by default for each conversation</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>callback</code> - </dd></dl>
</li>
</ul>
<a name="asyncLoadAllConversations(com.easemob.EMCallBack)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>asyncLoadAllConversations</h4>
<pre>public&nbsp;void&nbsp;asyncLoadAllConversations(<a href="../../../com/easemob/EMCallBack.html" title="com.easemob中的接口">EMCallBack</a>&nbsp;callback)</pre>
<div class="block">asynchronously load all conversations with number of messages specificed in setNumberOfMessagesLoaded in <a href="../../../com/easemob/chat/EMChatOptions.html" title="com.easemob.chat中的类"><code>EMChatOptions</code></a> for each conversation，20 by defalult
 异步获取所有会话列表，每个会话默认加载的消息条目由setNumberOfMessagesLoaded指定，可以参考<a href="../../../com/easemob/chat/EMChatOptions.html" title="com.easemob.chat中的类"><code>EMChatOptions</code></a>，默认是20条以保持兼容,建议是1</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>callback</code> - </dd></dl>
</li>
</ul>
<a name="loadAllConversations()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>loadAllConversations</h4>
<pre>public&nbsp;void&nbsp;loadAllConversations()</pre>
<div class="block">同步加载所有的会话，并且每条会话读入EMChatOptions.getNumberOfMessagesLoaded()条消息, 默认是20条以保持兼容
 APP可以在用EMChatOptions.setNumberOfMessagesLoaded去设置初始条数(建议是1)</div>
</li>
</ul>
<a name="getAllConversations()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAllConversations</h4>
<pre>public&nbsp;java.util.Hashtable&lt;java.lang.String,<a href="../../../com/easemob/chat/EMConversation.html" title="com.easemob.chat中的类">EMConversation</a>&gt;&nbsp;getAllConversations()</pre>
<div class="block">获取内存中所有会话
 
 和loadAllConversations区别就是loadAllConversations是从本地数据库加载所有的会话到内存，所以app在使用getAllConversations之前，一定要先调用loadAllConversations
 以确保会话都被加载到内存中，不过loadAllConversations调用一次即可

 get all conversations 
 compared with loadAllConversations, loadAllConversations will load conversations from db to memory and getAllConversations will get all conversations from memmory
 therefore, you should call api loadAllConversations and getAllConversations</div>
<dl><dt><span class="strong">返回:</span></dt><dd>all conversations</dd></dl>
</li>
</ul>
<a name="getUnreadMsgsCount()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getUnreadMsgsCount</h4>
<pre>public&nbsp;int&nbsp;getUnreadMsgsCount()</pre>
<div class="block">获取未读消息计数
 
 get unread mesage count</div>
<dl><dt><span class="strong">返回:</span></dt><dd></dd></dl>
</li>
</ul>
<a name="activityResumed()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>activityResumed</h4>
<pre>public&nbsp;void&nbsp;activityResumed()</pre>
<div class="block">应用从后台回到前台，需要用activityResumed 通知sdk sdk 会reset 系统的消息通知 （notification area）</div>
</li>
</ul>
<a name="saveMessage(com.easemob.chat.EMMessage)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>saveMessage</h4>
<pre>public&nbsp;void&nbsp;saveMessage(<a href="../../../com/easemob/chat/EMMessage.html" title="com.easemob.chat中的类">EMMessage</a>&nbsp;message)</pre>
<div class="block">保存用户app 生成的消息，比如系统提示 消息会存到内存中的conversation 和数据库
 
 save the message to memory and db</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>message</code> - 待存储的消息</dd></dl>
</li>
</ul>
<a name="saveMessage(com.easemob.chat.EMMessage, boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>saveMessage</h4>
<pre>public&nbsp;void&nbsp;saveMessage(<a href="../../../com/easemob/chat/EMMessage.html" title="com.easemob.chat中的类">EMMessage</a>&nbsp;message,
               boolean&nbsp;unreadcountIncrease)</pre>
<div class="block">保存用户app 生成的消息，比如系统提示 消息会存到内存中的conversation 和数据库</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>message</code> - 待存储的消息</dd><dd><code>unreadcountIncrease</code> - 是否存入消息时未读数自动加1</dd></dl>
</li>
</ul>
<a name="updateMessageBody(com.easemob.chat.EMMessage)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateMessageBody</h4>
<pre>public&nbsp;boolean&nbsp;updateMessageBody(<a href="../../../com/easemob/chat/EMMessage.html" title="com.easemob.chat中的类">EMMessage</a>&nbsp;message)</pre>
<div class="block">更新消息体 更新消息体，消息体的内容会被保存到本地</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>message</code> - </dd></dl>
</li>
</ul>
<a name="getContactUserNames()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getContactUserNames</h4>
<pre>public&nbsp;java.util.List&lt;java.lang.String&gt;&nbsp;getContactUserNames()
                                                     throws com.easemob.exceptions.EaseMobException</pre>
<div class="block">获取所有联系人的用户名列表</div>
<dl><dt><span class="strong">返回:</span></dt><dd>联系人列表</dd>
<dt><span class="strong">抛出:</span></dt>
<dd><code>com.easemob.exceptions.EaseMobException</code></dd></dl>
</li>
</ul>
<a name="getCurrentUser()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCurrentUser</h4>
<pre>public&nbsp;java.lang.String&nbsp;getCurrentUser()</pre>
<div class="block">获取当前登录用户的用户名
 
 get current logged in user id</div>
<dl><dt><span class="strong">返回:</span></dt><dd></dd></dl>
</li>
</ul>
<a name="getChatOptions()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getChatOptions</h4>
<pre>public&nbsp;<a href="../../../com/easemob/chat/EMChatOptions.html" title="com.easemob.chat中的类">EMChatOptions</a>&nbsp;getChatOptions()</pre>
<div class="block">获取聊天sdk 的相关参数，配置
 
 get options</div>
<dl><dt><span class="strong">返回:</span></dt><dd>EMChatOptions 参数设置</dd></dl>
</li>
</ul>
<a name="setChatOptions(com.easemob.chat.EMChatOptions)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setChatOptions</h4>
<pre>public&nbsp;void&nbsp;setChatOptions(<a href="../../../com/easemob/chat/EMChatOptions.html" title="com.easemob.chat中的类">EMChatOptions</a>&nbsp;chatOptions)</pre>
<div class="block">设置聊天sdk 的相关参数，配置 可以在应用启动的时候设置相应的值。 也可以在运行过程中，调用setChatOptions来改变设置。
 
 set chat options @see <a href="../../../com/easemob/chat/EMChatOptions.html" title="com.easemob.chat中的类"><code>EMChatOptions</code></a></div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>chatOptions</code> - 配置参数</dd></dl>
</li>
</ul>
<a name="setEncryptProvider(com.easemob.chat.EncryptProvider)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setEncryptProvider</h4>
<pre>public&nbsp;void&nbsp;setEncryptProvider(<a href="../../../com/easemob/chat/EncryptProvider.html" title="com.easemob.chat中的接口">EncryptProvider</a>&nbsp;provider)</pre>
<div class="block">设置应用的加密实现 如果未设置，SDK 会使用内置的加密算法
 
 set the encrypt provider.</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>provider</code> - </dd></dl>
</li>
</ul>
<a name="getEncryptProvider()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getEncryptProvider</h4>
<pre>public&nbsp;<a href="../../../com/easemob/chat/EncryptProvider.html" title="com.easemob.chat中的接口">EncryptProvider</a>&nbsp;getEncryptProvider()</pre>
<div class="block">获取EncryptProvider 如果未设置, 将返回sdk 内置的encrypt provider</div>
<dl><dt><span class="strong">返回:</span></dt><dd></dd></dl>
</li>
</ul>
<a name="addVoiceCallStateChangeListener(com.easemob.chat.EMCallStateChangeListener)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addVoiceCallStateChangeListener</h4>
<pre>public&nbsp;void&nbsp;addVoiceCallStateChangeListener(<a href="../../../com/easemob/chat/EMCallStateChangeListener.html" title="com.easemob.chat中的接口">EMCallStateChangeListener</a>&nbsp;listener)</pre>
<div class="block"><span class="strong">已过时。</span>&nbsp;<i>使用{<a href="../../../com/easemob/chat/EMChatManager.html#addCallStateChangeListener(com.easemob.chat.EMCallStateChangeListener)"><code>addCallStateChangeListener(EMCallStateChangeListener)</code></a>替代</i></div>
<div class="block">设置通话状态监听</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>listener</code> - </dd></dl>
</li>
</ul>
<a name="addCallStateChangeListener(com.easemob.chat.EMCallStateChangeListener)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addCallStateChangeListener</h4>
<pre>public&nbsp;void&nbsp;addCallStateChangeListener(<a href="../../../com/easemob/chat/EMCallStateChangeListener.html" title="com.easemob.chat中的接口">EMCallStateChangeListener</a>&nbsp;listener)</pre>
<div class="block">设置通话状态监听</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>listener</code> - </dd></dl>
</li>
</ul>
<a name="removeCallStateChangeListener(com.easemob.chat.EMCallStateChangeListener)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeCallStateChangeListener</h4>
<pre>public&nbsp;void&nbsp;removeCallStateChangeListener(<a href="../../../com/easemob/chat/EMCallStateChangeListener.html" title="com.easemob.chat中的接口">EMCallStateChangeListener</a>&nbsp;listener)</pre>
<div class="block">移除通话监听</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>listener</code> - </dd></dl>
</li>
</ul>
<a name="makeVoiceCall(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>makeVoiceCall</h4>
<pre>public&nbsp;void&nbsp;makeVoiceCall(java.lang.String&nbsp;to)
                   throws com.easemob.exceptions.EMServiceNotReadyException</pre>
<div class="block">拨打语音通话</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>to</code> - </dd>
<dt><span class="strong">抛出:</span></dt>
<dd><code>com.easemob.exceptions.EMServiceNotReadyException</code></dd></dl>
</li>
</ul>
<a name="answerCall()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>answerCall</h4>
<pre>public&nbsp;void&nbsp;answerCall()
                throws com.easemob.exceptions.EMNoActiveCallException,
                       com.easemob.exceptions.EMNetworkUnconnectedException</pre>
<div class="block">接听通话</div>
<dl><dt><span class="strong">抛出:</span></dt>
<dd><code>com.easemob.exceptions.EMNoActiveCallException</code></dd>
<dd><code>com.easemob.exceptions.EMNetworkUnconnectedException</code></dd></dl>
</li>
</ul>
<a name="rejectCall()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>rejectCall</h4>
<pre>public&nbsp;void&nbsp;rejectCall()
                throws com.easemob.exceptions.EMNoActiveCallException</pre>
<div class="block">拒绝接听</div>
<dl><dt><span class="strong">抛出:</span></dt>
<dd><code>com.easemob.exceptions.EMNoActiveCallException</code></dd></dl>
</li>
</ul>
<a name="endCall()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>endCall</h4>
<pre>public&nbsp;void&nbsp;endCall()</pre>
<div class="block">挂断通话</div>
</li>
</ul>
<a name="makeVideoCall(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>makeVideoCall</h4>
<pre>public&nbsp;void&nbsp;makeVideoCall(java.lang.String&nbsp;to)
                   throws com.easemob.exceptions.EMServiceNotReadyException</pre>
<div class="block">拨打视频通话</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>to</code> - </dd>
<dt><span class="strong">抛出:</span></dt>
<dd><code>com.easemob.exceptions.EMServiceNotReadyException</code></dd></dl>
</li>
</ul>
<a name="onReconnectionSuccessful()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>onReconnectionSuccessful</h4>
<pre>public&nbsp;void&nbsp;onReconnectionSuccessful()</pre>
</li>
</ul>
<a name="asyncFetchMessage(com.easemob.chat.EMMessage)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>asyncFetchMessage</h4>
<pre>public&nbsp;void&nbsp;asyncFetchMessage(<a href="../../../com/easemob/chat/EMMessage.html" title="com.easemob.chat中的类">EMMessage</a>&nbsp;msg)</pre>
<div class="block">未成功下载的附件，可再次下载</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>msg</code> - </dd></dl>
</li>
</ul>
<a name="importMessage(com.easemob.chat.EMMessage, boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>importMessage</h4>
<pre>public&nbsp;java.lang.String&nbsp;importMessage(<a href="../../../com/easemob/chat/EMMessage.html" title="com.easemob.chat中的类">EMMessage</a>&nbsp;message,
                             boolean&nbsp;addToMemory)</pre>
<div class="block">向消息数据库导入一条聊天记录</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>message</code> - ，需要导入的message</dd><dd><code>addToMemory</code> - 在内存里也保持此消息</dd>
<dt><span class="strong">返回:</span></dt><dd>messageId</dd></dl>
</li>
</ul>
<a name="importMessages(java.util.List)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>importMessages</h4>
<pre>public&nbsp;void&nbsp;importMessages(java.util.List&lt;<a href="../../../com/easemob/chat/EMMessage.html" title="com.easemob.chat中的类">EMMessage</a>&gt;&nbsp;msgs)</pre>
<div class="block">向消息数据库导入多条聊天记录
 在调用次函数时要保证，消息的发送方或者接收方是当前用户
 已经对函数做过速度优化， 推荐一次导入1000条数据</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>msgs</code> - 需要导入数据库的消息</dd></dl>
</li>
</ul>
<a name="updateCurrentUserNick(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateCurrentUserNick</h4>
<pre>public&nbsp;boolean&nbsp;updateCurrentUserNick(java.lang.String&nbsp;nickname)</pre>
<div class="block">更新当前用户的nickname
 
 此方法主要为了在苹果推送时能够推送nick而不是userid 一般可以在登陆成功后从自己服务器获取到个人信息，然后拿到nick更新到环信服务器
 并且，在个人信息中如果更改个人的昵称，也要把环信服务器更新下nickname 防止显示差异</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>nickname</code> - 昵称</dd>
<dt><span class="strong">返回:</span></dt><dd></dd></dl>
</li>
</ul>
<a name="getAccessToken()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAccessToken</h4>
<pre>public&nbsp;java.lang.String&nbsp;getAccessToken()</pre>
<div class="block">获取身份认证权限 在上传下载附件（语音，图片，文件等）时必须添加到请求header中 当出现任何异常时将返回null，
 可通过判断是否为null来检测是否有问题 如果为null，在打开EMLog日志时，是可以看到异常原因。</div>
<dl><dt><span class="strong">返回:</span></dt><dd></dd></dl>
</li>
</ul>
<a name="getConversationsUnread()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getConversationsUnread</h4>
<pre>public&nbsp;java.util.List&lt;java.lang.String&gt;&nbsp;getConversationsUnread()</pre>
<div class="block">获取有未读数的会话

 get list of user id of group id which have the unread messages</div>
<dl><dt><span class="strong">返回:</span></dt><dd></dd></dl>
</li>
</ul>
<a name="areAllConversationsLoaded()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>areAllConversationsLoaded</h4>
<pre>public&nbsp;boolean&nbsp;areAllConversationsLoaded()</pre>
</li>
</ul>
<a name="getConversationsByType(com.easemob.chat.EMConversation.EMConversationType)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getConversationsByType</h4>
<pre>public&nbsp;java.util.List&lt;<a href="../../../com/easemob/chat/EMConversation.html" title="com.easemob.chat中的类">EMConversation</a>&gt;&nbsp;getConversationsByType(<a href="../../../com/easemob/chat/EMConversation.EMConversationType.html" title="com.easemob.chat中的枚举">EMConversation.EMConversationType</a>&nbsp;type)</pre>
<div class="block">get list of conversations by conversation type</div>
</li>
</ul>
<a name="isSlientMessage(com.easemob.chat.EMMessage)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isSlientMessage</h4>
<pre>public&nbsp;boolean&nbsp;isSlientMessage(<a href="../../../com/easemob/chat/EMMessage.html" title="com.easemob.chat中的类">EMMessage</a>&nbsp;message)</pre>
<div class="block">判断是否是免打扰的消息

 check if the message is kind of slient message, if that's it, app should not play tone or vibrate</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>message</code> - </dd>
<dt><span class="strong">返回:</span></dt><dd></dd></dl>
</li>
</ul>
<a name="downloadFile(java.lang.String, java.lang.String, java.util.Map, com.easemob.EMCallBack)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>downloadFile</h4>
<pre>public&nbsp;void&nbsp;downloadFile(java.lang.String&nbsp;remoteUrl,
                java.lang.String&nbsp;localFilePath,
                java.util.Map&lt;java.lang.String,java.lang.String&gt;&nbsp;headers,
                <a href="../../../com/easemob/EMCallBack.html" title="com.easemob中的接口">EMCallBack</a>&nbsp;callback)</pre>
<div class="block">从环信服务器下载文件
 
 download the file from eaemob server</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>remoteUrl</code> - 服务器上的远程文件</dd><dd><code>localFilePath</code> - 本地要生成的文件</dd><dd><code>headers</code> - Http Request Header</dd><dd><code>callback</code> - EMCallBack</dd></dl>
</li>
</ul>
<a name="addChatRoomChangeListener(com.easemob.EMChatRoomChangeListener)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addChatRoomChangeListener</h4>
<pre>public&nbsp;void&nbsp;addChatRoomChangeListener(<a href="../../../com/easemob/EMChatRoomChangeListener.html" title="com.easemob中的接口">EMChatRoomChangeListener</a>&nbsp;listener)</pre>
<div class="block">注册聊天室事件监听
 
 register chat room change listener</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>listener</code> - </dd></dl>
</li>
</ul>
<a name="removeChatRoomChangeListener(com.easemob.EMChatRoomChangeListener)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>removeChatRoomChangeListener</h4>
<pre>public&nbsp;void&nbsp;removeChatRoomChangeListener(<a href="../../../com/easemob/EMChatRoomChangeListener.html" title="com.easemob中的接口">EMChatRoomChangeListener</a>&nbsp;listener)</pre>
<div class="block">移除聊天室事件监听

 remove chat room change listener</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>listener</code> - </dd></dl>
</li>
</ul>
<a name="joinChatRoom(java.lang.String, com.easemob.EMValueCallBack)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>joinChatRoom</h4>
<pre>public&nbsp;void&nbsp;joinChatRoom(java.lang.String&nbsp;roomId,
                <a href="../../../com/easemob/EMValueCallBack.html" title="com.easemob中的接口">EMValueCallBack</a>&lt;<a href="../../../com/easemob/chat/EMChatRoom.html" title="com.easemob.chat中的类">EMChatRoom</a>&gt;&nbsp;callback)</pre>
<div class="block">加入聊天室
 
 join the chat room asynchronously

 <p>
 example:
 
 <pre>
 
        public void api_joinChatRoom(final String roomId){
        new Thread(){</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>roomId</code> - </dd>
<dt><span class="strong">抛出:</span></dt>
<dd><code>com.easemob.exceptions.EaseMobException</code></dd></dl>
</li>
</ul>
<a name="leaveChatRoom(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>leaveChatRoom</h4>
<pre>public&nbsp;void&nbsp;leaveChatRoom(java.lang.String&nbsp;roomId)</pre>
<div class="block">离开聊天室,SDK保证聊天室退出成功,无论网络情况如何

 leave chat room and sdk will ensure leaving is successful whenever what happens, for example, no network.
 
 
        public void api_leaveChatRoom(final String roomId){
        new Thread(){</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>roomId</code> - 离开聊天室ID</dd>
<dt><span class="strong">抛出:</span></dt>
<dd><code>com.easemob.exceptions.EaseMobException</code></dd></dl>
</li>
</ul>
<a name="fetchPublicChatRoomsFromServer(int, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>fetchPublicChatRoomsFromServer</h4>
<pre>public&nbsp;<a href="../../../com/easemob/chat/EMCursorResult.html" title="com.easemob.chat中的类">EMCursorResult</a>&lt;<a href="../../../com/easemob/chat/EMChatRoom.html" title="com.easemob.chat中的类">EMChatRoom</a>&gt;&nbsp;fetchPublicChatRoomsFromServer(int&nbsp;pageSize,
                                                        java.lang.String&nbsp;cursor)
                                                          throws com.easemob.exceptions.EaseMobException</pre>
<div class="block">翻页从服务器获取聊天室
 耗时操作

 fetch the chatroom in page synchronoulsy
 this is a time consuming ooperation</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>pageSize</code> - 一次请求所要获取的聊天室的数量</dd><dd><code>cursor</code> - 首次是null，否则是上次获取服务器返回的游标</dd>
<dt><span class="strong">返回:</span></dt><dd>EMResult<EMChatRoom> 返回游标以及 List<EMChatRoom></dd>
<dt><span class="strong">抛出:</span></dt>
<dd><code>com.easemob.exceptions.EaseMobException</code></dd></dl>
</li>
</ul>
<a name="fetchChatRoomFromServer(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>fetchChatRoomFromServer</h4>
<pre>public&nbsp;<a href="../../../com/easemob/chat/EMChatRoom.html" title="com.easemob.chat中的类">EMChatRoom</a>&nbsp;fetchChatRoomFromServer(java.lang.String&nbsp;roomId)
                                   throws com.easemob.exceptions.EaseMobException</pre>
<div class="block">从服务器获取聊天室详情
 耗时操作

 fetch the chat room by room id</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>roomId</code> - </dd>
<dt><span class="strong">返回:</span></dt><dd>EMChatRoom</dd>
<dt><span class="strong">抛出:</span></dt>
<dd><code>com.easemob.exceptions.EaseMobException</code></dd></dl>
</li>
</ul>
<a name="getChatRoom(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getChatRoom</h4>
<pre>public&nbsp;<a href="../../../com/easemob/chat/EMChatRoom.html" title="com.easemob.chat中的类">EMChatRoom</a>&nbsp;getChatRoom(java.lang.String&nbsp;roomId)</pre>
<div class="block">从内存中获取聊天室
 非耗时操作


 get the chat room in the cache</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>roomId</code> - </dd>
<dt><span class="strong">返回:</span></dt><dd></dd></dl>
</li>
</ul>
<a name="getAllChatRooms()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getAllChatRooms</h4>
<pre>public&nbsp;java.util.List&lt;<a href="../../../com/easemob/chat/EMChatRoom.html" title="com.easemob.chat中的类">EMChatRoom</a>&gt;&nbsp;getAllChatRooms()</pre>
<div class="block">从内存中获取所有的聊天室
 非耗时操作
 get all the chat rooms in the cache</div>
<dl><dt><span class="strong">返回:</span></dt><dd></dd></dl>
</li>
</ul>
<a name="getRobotsFromServer()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRobotsFromServer</h4>
<pre>public&nbsp;java.util.List&lt;<a href="../../../com/easemob/chat/EMContact.html" title="com.easemob.chat中的类">EMContact</a>&gt;&nbsp;getRobotsFromServer()
                                              throws com.easemob.exceptions.EaseMobException</pre>
<div class="block">获取Robot列表</div>
<dl><dt><span class="strong">抛出:</span></dt>
<dd><code>com.easemob.exceptions.EaseMobException</code></dd></dl>
</li>
</ul>
<a name="setGCMProjectNumber(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setGCMProjectNumber</h4>
<pre>public&nbsp;void&nbsp;setGCMProjectNumber(java.lang.String&nbsp;projectNumber)</pre>
<div class="block">for GCM support, to set GCM number</div>
</li>
</ul>
<a name="isDirectCall()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isDirectCall</h4>
<pre>public&nbsp;boolean&nbsp;isDirectCall()</pre>
<div class="block">返回当前通话时是否为P2P直连

 check if that's a P2P call</div>
<dl><dt><span class="strong">返回:</span></dt><dd></dd></dl>
</li>
</ul>
<a name="getKeywordInfoList(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getKeywordInfoList</h4>
<pre>public&nbsp;java.util.Map&lt;java.lang.String,<a href="../../../com/easemob/chat/EMKeywordSearchInfo.html" title="com.easemob.chat中的类">EMKeywordSearchInfo</a>&gt;&nbsp;getKeywordInfoList(java.lang.String&nbsp;keyword)</pre>
<div class="block">全局搜索聊天内容，如果一个会话有多条，会通过数字提示
 
 get the keyword info list by keyword</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>keyword</code> - 要搜索的内容</dd>
<dt><span class="strong">返回:</span></dt><dd></dd></dl>
</li>
</ul>
<a name="getMessagesByKeyword(java.lang.String, java.lang.String, int, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMessagesByKeyword</h4>
<pre>public&nbsp;java.util.List&lt;<a href="../../../com/easemob/chat/EMMessage.html" title="com.easemob.chat中的类">EMMessage</a>&gt;&nbsp;getMessagesByKeyword(java.lang.String&nbsp;keyword,
                                             java.lang.String&nbsp;startMsgId,
                                             int&nbsp;pageNumber,
                                             java.lang.String&nbsp;username)</pre>
<div class="block">根据某用户搜索得到详细的消息列表

 get message list in page by keyword for specific user</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>chatType</code> - 会话类型（单聊或群聊）</dd><dd><code>keyword</code> - 要搜索的内容</dd><dd><code>startMsgId</code> - 分页加载id</dd><dd><code>pageNumber</code> - 分页加载数</dd><dd><code>username</code> - 用户名</dd>
<dt><span class="strong">返回:</span></dt><dd></dd></dl>
</li>
</ul>
<a name="pauseVoiceTransfer()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>pauseVoiceTransfer</h4>
<pre>public&nbsp;void&nbsp;pauseVoiceTransfer()</pre>
<div class="block">实时通话时暂停语音数据传输</div>
</li>
</ul>
<a name="resumeVoiceTransfer()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>resumeVoiceTransfer</h4>
<pre>public&nbsp;void&nbsp;resumeVoiceTransfer()</pre>
<div class="block">实时通话时恢复语音数据传输</div>
</li>
</ul>
<a name="getVoiceInputLevel()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getVoiceInputLevel</h4>
<pre>public&nbsp;int&nbsp;getVoiceInputLevel()</pre>
<div class="block">获取通话时声音输入的大小(范围0-9)</div>
<dl><dt><span class="strong">返回:</span></dt><dd></dd></dl>
</li>
</ul>
<a name="getMessagesByMsgType(com.easemob.chat.EMMessage.Type, com.easemob.chat.EMMessage.ChatType, java.lang.String, java.lang.String, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMessagesByMsgType</h4>
<pre>public&nbsp;java.util.List&lt;<a href="../../../com/easemob/chat/EMMessage.html" title="com.easemob.chat中的类">EMMessage</a>&gt;&nbsp;getMessagesByMsgType(<a href="../../../com/easemob/chat/EMMessage.Type.html" title="com.easemob.chat中的枚举">EMMessage.Type</a>&nbsp;messageType,
                                             <a href="../../../com/easemob/chat/EMMessage.ChatType.html" title="com.easemob.chat中的枚举">EMMessage.ChatType</a>&nbsp;chatType,
                                             java.lang.String&nbsp;userName,
                                             java.lang.String&nbsp;startMessageId,
                                             int&nbsp;num)</pre>
<div class="block">返回单聊（群聊）下的某一类型的消息列表</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>messageType</code> - 消息的类型</dd><dd><code>chatType</code> - 聊天类型</dd><dd><code>userName</code> - 用户id（群组id）</dd><dd><code>strtMessageId</code> - 消息id，分页加载起始位置,第一次加载没有messageid可置为空</dd><dd><code>num</code> - 分页加载的消息数目</dd>
<dt><span class="strong">返回:</span></dt><dd></dd></dl>
</li>
</ul>
<a name="getTotalMessageCountByMsgType(com.easemob.chat.EMMessage.Type, com.easemob.chat.EMMessage.ChatType, java.lang.String)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getTotalMessageCountByMsgType</h4>
<pre>public&nbsp;long&nbsp;getTotalMessageCountByMsgType(<a href="../../../com/easemob/chat/EMMessage.Type.html" title="com.easemob.chat中的枚举">EMMessage.Type</a>&nbsp;messageType,
                                 <a href="../../../com/easemob/chat/EMMessage.ChatType.html" title="com.easemob.chat中的枚举">EMMessage.ChatType</a>&nbsp;chatType,
                                 java.lang.String&nbsp;userName)</pre>
<div class="block">返回单聊（群聊）下的某一类型的消息总数</div>
<dl><dt><span class="strong">参数:</span></dt><dd><code>messageType</code> - 消息的类型</dd><dd><code>chatType</code> - 聊天类型</dd><dd><code>userName</code> - 用户id（群组id）</dd>
<dt><span class="strong">返回:</span></dt><dd></dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="跳过导航链接"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="导航">
<li><a href="../../../overview-summary.html">概览</a></li>
<li><a href="package-summary.html">程序包</a></li>
<li class="navBarCell1Rev">类</li>
<li><a href="package-tree.html">树</a></li>
<li><a href="../../../deprecated-list.html">已过时</a></li>
<li><a href="../../../index-all.html">索引</a></li>
<li><a href="../../../help-doc.html">帮助</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/easemob/chat/EMChatDB.html" title="com.easemob.chat中的类"><span class="strong">上一个类</span></a></li>
<li><a href="../../../com/easemob/chat/EMChatOptions.html" title="com.easemob.chat中的类"><span class="strong">下一个类</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/easemob/chat/EMChatManager.html" target="_top">框架</a></li>
<li><a href="EMChatManager.html" target="_top">无框架</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">所有类</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>概要:&nbsp;</li>
<li>嵌套&nbsp;|&nbsp;</li>
<li>字段&nbsp;|&nbsp;</li>
<li>构造器&nbsp;|&nbsp;</li>
<li><a href="#method_summary">方法</a></li>
</ul>
<ul class="subNavList">
<li>详细资料:&nbsp;</li>
<li>字段&nbsp;|&nbsp;</li>
<li>构造器&nbsp;|&nbsp;</li>
<li><a href="#method_detail">方法</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small><i>Copyright &#169; 2014 EaseMob.com. All Rights Reserved.</i></small></p>
</body>
</html>
