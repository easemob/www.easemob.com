<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>HyphenateChatSDK: &lt;IEMChatManager&gt;协议 参考</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">HyphenateChatSDK<span id="projectnumber">&#160;4.14.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- 制作者 Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'搜索','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','搜索');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">构造函数</a> &#124;
<a href="protocol_i_e_m_chat_manager-p-members.html">所有成员列表</a>  </div>
  <div class="headertitle"><div class="title">&lt;IEMChatManager&gt;协议 参考</div></div>
</div><!--header-->
<div class="contents">

<p><code>#import &lt;<a class="el" href="_i_e_m_chat_manager_8h_source.html">IEMChatManager.h</a>&gt;</code></p>
<div class="dynheader">
类 &lt;IEMChatManager&gt; 继承关系图:</div>
<div class="dyncontent">
 <div class="center">
  <img src="protocol_i_e_m_chat_manager-p.png" alt=""/>
 </div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
构造函数</h2></td></tr>
<tr class="memitem:a22377260bef066b3c7048166bc507154"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="protocol_i_e_m_chat_manager-p.html#a22377260bef066b3c7048166bc507154">addDelegate:delegateQueue:</a></td></tr>
<tr class="separator:a22377260bef066b3c7048166bc507154"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8cc47212405130e912ec90f097bb75db"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="protocol_i_e_m_chat_manager-p.html#a8cc47212405130e912ec90f097bb75db">removeDelegate:</a></td></tr>
<tr class="separator:a8cc47212405130e912ec90f097bb75db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9159a946045d347e01eaeb754491b3c6"><td class="memItemLeft" align="right" valign="top">(NSArray&lt; <a class="el" href="interface_e_m_conversation.html">EMConversation</a> * &gt; *_Nullable)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="protocol_i_e_m_chat_manager-p.html#a9159a946045d347e01eaeb754491b3c6">getAllConversations</a></td></tr>
<tr class="separator:a9159a946045d347e01eaeb754491b3c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab41c526f0aee13e8b4d66b2a4b00913b"><td class="memItemLeft" align="right" valign="top">(NSArray&lt; <a class="el" href="interface_e_m_conversation.html">EMConversation</a> * &gt; *_Nullable)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="protocol_i_e_m_chat_manager-p.html#ab41c526f0aee13e8b4d66b2a4b00913b">filterConversationsFromDB:filter:</a></td></tr>
<tr class="separator:ab41c526f0aee13e8b4d66b2a4b00913b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af434097b6183e3f425f8675fad5272bc"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="protocol_i_e_m_chat_manager-p.html#af434097b6183e3f425f8675fad5272bc">cleanConversationsMemoryCache</a></td></tr>
<tr class="separator:af434097b6183e3f425f8675fad5272bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec32d7761375fd28497bd016af34e69b"><td class="memItemLeft" align="right" valign="top">(NSArray&lt; <a class="el" href="interface_e_m_conversation.html">EMConversation</a> * &gt; *_Nullable)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="protocol_i_e_m_chat_manager-p.html#aec32d7761375fd28497bd016af34e69b">getAllConversations:</a></td></tr>
<tr class="separator:aec32d7761375fd28497bd016af34e69b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a60614d53d31fa18189b2addac2d1a91e"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="protocol_i_e_m_chat_manager-p.html#a60614d53d31fa18189b2addac2d1a91e">getConversationsFromServer:</a></td></tr>
<tr class="separator:a60614d53d31fa18189b2addac2d1a91e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0acfd02454ae897d84e96b1542437ff6"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="protocol_i_e_m_chat_manager-p.html#a0acfd02454ae897d84e96b1542437ff6">getConversationsFromServerByPage:pageSize:completion:</a></td></tr>
<tr class="separator:a0acfd02454ae897d84e96b1542437ff6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab960513636ad6c85917513f8ec54d8a6"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="protocol_i_e_m_chat_manager-p.html#ab960513636ad6c85917513f8ec54d8a6">getConversationsFromServerWithCursor:pageSize:completion:</a></td></tr>
<tr class="separator:ab960513636ad6c85917513f8ec54d8a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaba5f63f05f9da74122e3e3b5dedcff2"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="protocol_i_e_m_chat_manager-p.html#aaba5f63f05f9da74122e3e3b5dedcff2">getPinnedConversationsFromServerWithCursor:pageSize:completion:</a></td></tr>
<tr class="separator:aaba5f63f05f9da74122e3e3b5dedcff2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab7ec272edae5130035bd09f6edc88c24"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="protocol_i_e_m_chat_manager-p.html#ab7ec272edae5130035bd09f6edc88c24">pinConversation:isPinned:completionBlock:</a></td></tr>
<tr class="separator:ab7ec272edae5130035bd09f6edc88c24"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4a0ce0755f99d82c08ce89c9b3abfc3"><td class="memItemLeft" align="right" valign="top">(<a class="el" href="interface_e_m_conversation.html">EMConversation</a> *_Nullable)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="protocol_i_e_m_chat_manager-p.html#aa4a0ce0755f99d82c08ce89c9b3abfc3">getConversationWithConvId:</a></td></tr>
<tr class="separator:aa4a0ce0755f99d82c08ce89c9b3abfc3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c90e488c1701ef6fc7ee6d5939e5cde"><td class="memItemLeft" align="right" valign="top">(<a class="el" href="interface_e_m_conversation.html">EMConversation</a> *_Nullable)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="protocol_i_e_m_chat_manager-p.html#a4c90e488c1701ef6fc7ee6d5939e5cde">getConversation:type:createIfNotExist:</a></td></tr>
<tr class="separator:a4c90e488c1701ef6fc7ee6d5939e5cde"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d9425820bb32ce9090851b196dbcfac"><td class="memItemLeft" align="right" valign="top">(<a class="el" href="interface_e_m_conversation.html">EMConversation</a> *_Nullable)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="protocol_i_e_m_chat_manager-p.html#a0d9425820bb32ce9090851b196dbcfac">getConversation:type:createIfNotExist:isThread:</a></td></tr>
<tr class="separator:a0d9425820bb32ce9090851b196dbcfac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8869fb98e589c18b17428f228ed61f79"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="protocol_i_e_m_chat_manager-p.html#a8869fb98e589c18b17428f228ed61f79">deleteConversation:isDeleteMessages:completion:</a></td></tr>
<tr class="separator:a8869fb98e589c18b17428f228ed61f79"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd99e104a4dc5e145e3e60773d761195"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="protocol_i_e_m_chat_manager-p.html#acd99e104a4dc5e145e3e60773d761195">deleteServerConversation:conversationType:isDeleteServerMessages:completion:</a></td></tr>
<tr class="separator:acd99e104a4dc5e145e3e60773d761195"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e40bd7fca87991de81912fc67b63edb"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="protocol_i_e_m_chat_manager-p.html#a5e40bd7fca87991de81912fc67b63edb">deleteConversations:isDeleteMessages:completion:</a></td></tr>
<tr class="separator:a5e40bd7fca87991de81912fc67b63edb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa8c88fb56ebc9255c69135cc901e7e65"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="protocol_i_e_m_chat_manager-p.html#aa8c88fb56ebc9255c69135cc901e7e65">importConversations:completion:</a></td></tr>
<tr class="separator:aa8c88fb56ebc9255c69135cc901e7e65"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa05d2ce22fb77ac7e4ad7bde1479c278"><td class="memItemLeft" align="right" valign="top">(<a class="el" href="interface_e_m_chat_message.html">EMChatMessage</a> *_Nullable)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="protocol_i_e_m_chat_manager-p.html#aa05d2ce22fb77ac7e4ad7bde1479c278">getMessageWithMessageId:</a></td></tr>
<tr class="separator:aa05d2ce22fb77ac7e4ad7bde1479c278"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3fd6f477bf901732ec24b146b05bd79e"><td class="memItemLeft" align="right" valign="top">(NSString *_Nullable)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="protocol_i_e_m_chat_manager-p.html#a3fd6f477bf901732ec24b146b05bd79e">getMessageAttachmentPath:</a></td></tr>
<tr class="separator:a3fd6f477bf901732ec24b146b05bd79e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac223706d0680cd913d7c9db9751166d1"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="protocol_i_e_m_chat_manager-p.html#ac223706d0680cd913d7c9db9751166d1">importMessages:completion:</a></td></tr>
<tr class="separator:ac223706d0680cd913d7c9db9751166d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aafceafd5a80d99c0d02d96baf66e24af"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="protocol_i_e_m_chat_manager-p.html#aafceafd5a80d99c0d02d96baf66e24af">updateMessage:completion:</a></td></tr>
<tr class="separator:aafceafd5a80d99c0d02d96baf66e24af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1dd33664277ed76c4208af4150a74987"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="protocol_i_e_m_chat_manager-p.html#a1dd33664277ed76c4208af4150a74987">modifyMessage:body:completion:</a></td></tr>
<tr class="separator:a1dd33664277ed76c4208af4150a74987"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1eed319dc3627aff8c44d65502d8c875"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="protocol_i_e_m_chat_manager-p.html#a1eed319dc3627aff8c44d65502d8c875">modifyMessage:body:ext:completion:</a></td></tr>
<tr class="separator:a1eed319dc3627aff8c44d65502d8c875"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad332c114b5e7bc3c7945923fa19b8eb8"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="protocol_i_e_m_chat_manager-p.html#ad332c114b5e7bc3c7945923fa19b8eb8">sendMessageReadAck:toUser:completion:</a></td></tr>
<tr class="separator:ad332c114b5e7bc3c7945923fa19b8eb8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3da6f68c3fb96564d93d493ff21d0542"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="protocol_i_e_m_chat_manager-p.html#a3da6f68c3fb96564d93d493ff21d0542">sendGroupMessageReadAck:toGroup:content:completion:</a></td></tr>
<tr class="separator:a3da6f68c3fb96564d93d493ff21d0542"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe2068deb555d7f5b1ed0e2224f278e0"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="protocol_i_e_m_chat_manager-p.html#afe2068deb555d7f5b1ed0e2224f278e0">ackConversationRead:completion:</a></td></tr>
<tr class="separator:afe2068deb555d7f5b1ed0e2224f278e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a800f9a6c3166c97240da304c11fbb1d1"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="protocol_i_e_m_chat_manager-p.html#a800f9a6c3166c97240da304c11fbb1d1">recallMessageWithMessageId:completion:</a></td></tr>
<tr class="separator:a800f9a6c3166c97240da304c11fbb1d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b1628deaedd57fc1222d150caf4033e"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="protocol_i_e_m_chat_manager-p.html#a1b1628deaedd57fc1222d150caf4033e">recallMessageWithMessageId:ext:completion:</a></td></tr>
<tr class="separator:a1b1628deaedd57fc1222d150caf4033e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e907db464e5f5572a0d3b3b48effdba"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="protocol_i_e_m_chat_manager-p.html#a9e907db464e5f5572a0d3b3b48effdba">sendMessage:progress:completion:</a></td></tr>
<tr class="separator:a9e907db464e5f5572a0d3b3b48effdba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a50bac38b79c7015fd6a3e6db7e768b6a"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="protocol_i_e_m_chat_manager-p.html#a50bac38b79c7015fd6a3e6db7e768b6a">resendMessage:progress:completion:</a></td></tr>
<tr class="separator:a50bac38b79c7015fd6a3e6db7e768b6a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af1de9919bfc24ed8472175bd8f8e12fe"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="protocol_i_e_m_chat_manager-p.html#af1de9919bfc24ed8472175bd8f8e12fe">downloadMessageThumbnail:progress:completion:</a></td></tr>
<tr class="separator:af1de9919bfc24ed8472175bd8f8e12fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb157ebedb5b163e411d9a100ca70885"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="protocol_i_e_m_chat_manager-p.html#adb157ebedb5b163e411d9a100ca70885">downloadMessageAttachment:progress:completion:</a></td></tr>
<tr class="separator:adb157ebedb5b163e411d9a100ca70885"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c1820e3bf708932525ee3bff46f5ad9"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="protocol_i_e_m_chat_manager-p.html#a3c1820e3bf708932525ee3bff46f5ad9">downloadAndParseCombineMessage:completion:</a></td></tr>
<tr class="separator:a3c1820e3bf708932525ee3bff46f5ad9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab5c193f0ea04e26aa28825221670d101"><td class="memItemLeft" align="right" valign="top">(<a class="el" href="interface_e_m_cursor_result.html">EMCursorResult</a>&lt; <a class="el" href="interface_e_m_chat_message.html">EMChatMessage</a> * &gt; *_Nullable)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="protocol_i_e_m_chat_manager-p.html#ab5c193f0ea04e26aa28825221670d101">fetchHistoryMessagesFromServer:conversationType:startMessageId:fetchDirection:pageSize:error:</a></td></tr>
<tr class="separator:ab5c193f0ea04e26aa28825221670d101"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a106dc239e476c8f8d3d655fa5740fe3f"><td class="memItemLeft" align="right" valign="top">(<a class="el" href="interface_e_m_cursor_result.html">EMCursorResult</a>&lt; <a class="el" href="interface_e_m_chat_message.html">EMChatMessage</a> * &gt; *_Nullable)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="protocol_i_e_m_chat_manager-p.html#a106dc239e476c8f8d3d655fa5740fe3f">fetchHistoryMessagesFromServer:conversationType:startMessageId:pageSize:error:</a></td></tr>
<tr class="separator:a106dc239e476c8f8d3d655fa5740fe3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4ba1c576a4b1fd053b5a0932d974c38"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="protocol_i_e_m_chat_manager-p.html#af4ba1c576a4b1fd053b5a0932d974c38">asyncFetchHistoryMessagesFromServer:conversationType:startMessageId:pageSize:completion:</a></td></tr>
<tr class="separator:af4ba1c576a4b1fd053b5a0932d974c38"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad68c7f14abfdbd76c2aa7f35b441ab94"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="protocol_i_e_m_chat_manager-p.html#ad68c7f14abfdbd76c2aa7f35b441ab94">asyncFetchHistoryMessagesFromServer:conversationType:startMessageId:fetchDirection:pageSize:completion:</a></td></tr>
<tr class="separator:ad68c7f14abfdbd76c2aa7f35b441ab94"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd79acd5bf4960488cf1dda087f6f128"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="protocol_i_e_m_chat_manager-p.html#acd79acd5bf4960488cf1dda087f6f128">asyncFetchGroupMessageAcksFromServer:groupId:startGroupAckId:pageSize:completion:</a></td></tr>
<tr class="separator:acd79acd5bf4960488cf1dda087f6f128"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9db077be049b56849ec606de147d0f11"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="protocol_i_e_m_chat_manager-p.html#a9db077be049b56849ec606de147d0f11">reportMessageWithId:tag:reason:completion:</a></td></tr>
<tr class="separator:a9db077be049b56849ec606de147d0f11"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab67f3b7050de815caafdddf6529d3e4d"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="protocol_i_e_m_chat_manager-p.html#ab67f3b7050de815caafdddf6529d3e4d">deleteMessagesBefore:completion:</a></td></tr>
<tr class="separator:ab67f3b7050de815caafdddf6529d3e4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79f8ae26da0d9e3bb447ce1f37f13e5b"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="protocol_i_e_m_chat_manager-p.html#a79f8ae26da0d9e3bb447ce1f37f13e5b">removeMessagesFromServerWithConversation:messageIds:completion:</a></td></tr>
<tr class="separator:a79f8ae26da0d9e3bb447ce1f37f13e5b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0405fabe31277a1d482b8ad149495d38"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="protocol_i_e_m_chat_manager-p.html#a0405fabe31277a1d482b8ad149495d38">removeMessagesFromServerWithConversation:timeStamp:completion:</a></td></tr>
<tr class="separator:a0405fabe31277a1d482b8ad149495d38"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23eef0b7f10c3fc7bd513030e2019664"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="protocol_i_e_m_chat_manager-p.html#a23eef0b7f10c3fc7bd513030e2019664">translateMessage:targetLanguages:completion:</a></td></tr>
<tr class="separator:a23eef0b7f10c3fc7bd513030e2019664"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b4ffe09737822fb665cfa16713433a1"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="protocol_i_e_m_chat_manager-p.html#a1b4ffe09737822fb665cfa16713433a1">fetchSupportedLanguages:</a></td></tr>
<tr class="separator:a1b4ffe09737822fb665cfa16713433a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae2cb219648ba0943f965e45b1244d414"><td class="memItemLeft" align="right" valign="top">(NSArray&lt; <a class="el" href="interface_e_m_chat_message.html">EMChatMessage</a> * &gt; *_Nullable)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="protocol_i_e_m_chat_manager-p.html#ae2cb219648ba0943f965e45b1244d414">loadMessagesWithType:timestamp:count:fromUser:searchDirection:</a></td></tr>
<tr class="separator:ae2cb219648ba0943f965e45b1244d414"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2094dc45b4c9a6b777a1ddd67297f39"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="protocol_i_e_m_chat_manager-p.html#ad2094dc45b4c9a6b777a1ddd67297f39">loadMessagesWithType:timestamp:count:fromUser:searchDirection:completion:</a></td></tr>
<tr class="separator:ad2094dc45b4c9a6b777a1ddd67297f39"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e66936daa71ebd1eec81f0a34a3b385"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="protocol_i_e_m_chat_manager-p.html#a1e66936daa71ebd1eec81f0a34a3b385">searchMessagesWithTypes:timestamp:count:fromUser:searchDirection:completion:</a></td></tr>
<tr class="separator:a1e66936daa71ebd1eec81f0a34a3b385"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d595d95a93b6bd62d22c765ba3c5a31"><td class="memItemLeft" align="right" valign="top">(NSArray&lt; <a class="el" href="interface_e_m_chat_message.html">EMChatMessage</a> * &gt; *)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="protocol_i_e_m_chat_manager-p.html#a8d595d95a93b6bd62d22c765ba3c5a31">loadMessagesWithKeyword:timestamp:count:fromUser:searchDirection:</a></td></tr>
<tr class="separator:a8d595d95a93b6bd62d22c765ba3c5a31"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6cb7a8f459b9e9547d7d6f0d31072576"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="protocol_i_e_m_chat_manager-p.html#a6cb7a8f459b9e9547d7d6f0d31072576">loadMessagesWithKeyword:timestamp:count:fromUser:searchDirection:completion:</a></td></tr>
<tr class="separator:a6cb7a8f459b9e9547d7d6f0d31072576"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acbf69b4f5c710e2bbb4dadcf3fe8364a"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="protocol_i_e_m_chat_manager-p.html#acbf69b4f5c710e2bbb4dadcf3fe8364a">loadMessagesWithKeyword:timestamp:count:fromUser:searchDirection:scope:completion:</a></td></tr>
<tr class="separator:acbf69b4f5c710e2bbb4dadcf3fe8364a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa933d30242b85a26655c54d81d41ec5a"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="protocol_i_e_m_chat_manager-p.html#aa933d30242b85a26655c54d81d41ec5a">addReaction:toMessage:completion:</a></td></tr>
<tr class="separator:aa933d30242b85a26655c54d81d41ec5a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada7b8d6da6577859239cd11174208cc2"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="protocol_i_e_m_chat_manager-p.html#ada7b8d6da6577859239cd11174208cc2">removeReaction:fromMessage:completion:</a></td></tr>
<tr class="separator:ada7b8d6da6577859239cd11174208cc2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e3d20aaff25363f19d7c0d803f49c29"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="protocol_i_e_m_chat_manager-p.html#a7e3d20aaff25363f19d7c0d803f49c29">getReactionList:groupId:chatType:completion:</a></td></tr>
<tr class="separator:a7e3d20aaff25363f19d7c0d803f49c29"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a61731104e7609fcf531b0bdff7a92c"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="protocol_i_e_m_chat_manager-p.html#a3a61731104e7609fcf531b0bdff7a92c">getReactionDetail:reaction:cursor:pageSize:completion:</a></td></tr>
<tr class="separator:a3a61731104e7609fcf531b0bdff7a92c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10cb84d7a8240d932ab65b3402ed3a73"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="protocol_i_e_m_chat_manager-p.html#a10cb84d7a8240d932ab65b3402ed3a73">fetchMessagesFromServerBy:conversationType:cursor:pageSize:option:completion:</a></td></tr>
<tr class="separator:a10cb84d7a8240d932ab65b3402ed3a73"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e33319b36aad99f98994f08bcb490c8"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="protocol_i_e_m_chat_manager-p.html#a0e33319b36aad99f98994f08bcb490c8">addConversationMark:mark:completion:</a></td></tr>
<tr class="separator:a0e33319b36aad99f98994f08bcb490c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a82e5144febac439d392700fdabc827a1"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="protocol_i_e_m_chat_manager-p.html#a82e5144febac439d392700fdabc827a1">removeConversationMark:mark:completion:</a></td></tr>
<tr class="separator:a82e5144febac439d392700fdabc827a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac0dfccc5ece53e7260cb774fafb7e11f"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="protocol_i_e_m_chat_manager-p.html#ac0dfccc5ece53e7260cb774fafb7e11f">getConversationsFromServerWithCursor:filter:completion:</a></td></tr>
<tr class="separator:ac0dfccc5ece53e7260cb774fafb7e11f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95e2c1c70e4827e614a1b539b141ee94"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="protocol_i_e_m_chat_manager-p.html#a95e2c1c70e4827e614a1b539b141ee94">deleteAllMessagesAndConversations:completion:</a></td></tr>
<tr class="separator:a95e2c1c70e4827e614a1b539b141ee94"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59c37d7733f37616d9d948aa5bbb7ef0"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="protocol_i_e_m_chat_manager-p.html#a59c37d7733f37616d9d948aa5bbb7ef0">pinMessage:completion:</a></td></tr>
<tr class="separator:a59c37d7733f37616d9d948aa5bbb7ef0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e21a221a6c93433b38f8ab4d1b5590a"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="protocol_i_e_m_chat_manager-p.html#a7e21a221a6c93433b38f8ab4d1b5590a">unpinMessage:completion:</a></td></tr>
<tr class="separator:a7e21a221a6c93433b38f8ab4d1b5590a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d62ee40de1e5af0ebe25f39fbe4b54d"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="protocol_i_e_m_chat_manager-p.html#a6d62ee40de1e5af0ebe25f39fbe4b54d">getPinnedMessagesFromServer:completion:</a></td></tr>
<tr class="separator:a6d62ee40de1e5af0ebe25f39fbe4b54d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8ec9a1c06372e6c6072bd60eb8aa641"><td class="memItemLeft" align="right" valign="top">(<a class="el" href="interface_e_m_error.html">EMError</a> *)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="protocol_i_e_m_chat_manager-p.html#ae8ec9a1c06372e6c6072bd60eb8aa641">markAllConversationsAsRead</a></td></tr>
<tr class="separator:ae8ec9a1c06372e6c6072bd60eb8aa641"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae004337a6e59c55f2c6b4a2d9a54305f"><td class="memItemLeft" align="right" valign="top">(void)&#160;</td><td class="memItemRight" valign="bottom">- <a class="el" href="protocol_i_e_m_chat_manager-p.html#ae004337a6e59c55f2c6b4a2d9a54305f">getMessageCountWithCompletion:</a></td></tr>
<tr class="separator:ae004337a6e59c55f2c6b4a2d9a54305f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">详细描述</h2>
<div class="textblock"><p >聊天相关操作代理协议。</p>
<p >消息都是从本地数据库中加载，不是从服务端加载。 </p>
</div><h2 class="groupheader">函数文档</h2>
<a id="afe2068deb555d7f5b1ed0e2224f278e0" name="afe2068deb555d7f5b1ed0e2224f278e0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afe2068deb555d7f5b1ed0e2224f278e0">&#9670;&nbsp;</a></span>ackConversationRead:completion:</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (void) ackConversationRead: </td>
          <td></td>
          <td class="paramtype">(NSString *_Nonnull)&#160;</td>
          <td class="paramname"><em>conversationId</em></td>
        </tr>
        <tr>
          <td class="paramkey">completion:</td>
          <td></td>
          <td class="paramtype">(void(^)(<a class="el" href="interface_e_m_error.html">EMError</a> *_Nullable aError))&#160;</td>
          <td class="paramname"><em>aCompletionBlock</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">required</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >发送会话已读回执。</p>
<p >该方法仅适用于单聊会话。</p>
<p >发送会话已读回执会通知服务器将指定的会话未读消息数置为 0。调用该方法后对方会收到 onConversationRead 回调。</p>
<p >对话方（包含多端多设备）将会在回调方法 <a class="el" href="protocol_e_m_chat_manager_delegate-p.html">EMChatManagerDelegate</a> onConversationRead(String, String) 中接收到回调。</p>
<p >为了减少调用次数，我们建议在进入聊天页面有大量未读消息时调用该方法，在聊天过程中调用 <code>sendMessageReadAck</code> 方法发送消息已读回执。</p>
<p >异步方法。</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">conversationId</td><td>会话 ID。 </td></tr>
    <tr><td class="paramname">aCompletionBlock</td><td>该方法完成调用的回调。如果该方法调用失败，会包含调用失败的原因。 </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a0e33319b36aad99f98994f08bcb490c8" name="a0e33319b36aad99f98994f08bcb490c8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0e33319b36aad99f98994f08bcb490c8">&#9670;&nbsp;</a></span>addConversationMark:mark:completion:</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (void) addConversationMark: </td>
          <td></td>
          <td class="paramtype">(NSArray&lt; NSString * &gt; *_Nonnull)&#160;</td>
          <td class="paramname"><em>conversationIds</em></td>
        </tr>
        <tr>
          <td class="paramkey">mark:</td>
          <td></td>
          <td class="paramtype">(EMMarkType)&#160;</td>
          <td class="paramname"><em>mark</em></td>
        </tr>
        <tr>
          <td class="paramkey">completion:</td>
          <td></td>
          <td class="paramtype">(void(^)(<a class="el" href="interface_e_m_error.html">EMError</a> *_Nullable aError))&#160;</td>
          <td class="paramname"><em>completion</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">required</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >标记会话。</p>
<p >调用该方法会同时为本地和服务器端的会话添加标记。</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">conversationIds</td><td>会话 ID 列表。 </td></tr>
    <tr><td class="paramname">mark</td><td>要添加的会话标记。 </td></tr>
    <tr><td class="paramname">aCompletionBlock</td><td>该方法完成调用的回调。如果该方法调用失败，会包含调用失败的原因。 </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a22377260bef066b3c7048166bc507154" name="a22377260bef066b3c7048166bc507154"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a22377260bef066b3c7048166bc507154">&#9670;&nbsp;</a></span>addDelegate:delegateQueue:</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (void) addDelegate: </td>
          <td></td>
          <td class="paramtype">(id&lt; <a class="el" href="protocol_e_m_chat_manager_delegate-p.html">EMChatManagerDelegate</a> &gt; _Nullable)&#160;</td>
          <td class="paramname"><em>aDelegate</em></td>
        </tr>
        <tr>
          <td class="paramkey">delegateQueue:</td>
          <td></td>
          <td class="paramtype">(dispatch_queue_t _Nullable)&#160;</td>
          <td class="paramname"><em>aQueue</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">required</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >添加回调代理。</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">aDelegate</td><td>实现代理协议的对象。 </td></tr>
    <tr><td class="paramname">aQueue</td><td>执行代理方法的队列。若在主线程上运行 app，将该参数设置为空。 </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aa933d30242b85a26655c54d81d41ec5a" name="aa933d30242b85a26655c54d81d41ec5a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa933d30242b85a26655c54d81d41ec5a">&#9670;&nbsp;</a></span>addReaction:toMessage:completion:</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (void) addReaction: </td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>reaction</em></td>
        </tr>
        <tr>
          <td class="paramkey">toMessage:</td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>messageId</em></td>
        </tr>
        <tr>
          <td class="paramkey">completion:</td>
          <td></td>
          <td class="paramtype">(nullable void(^)(<a class="el" href="interface_e_m_error.html">EMError</a> *_Nullable))&#160;</td>
          <td class="paramname"><em>completion</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">required</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >添加 Reaction。</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">reaction</td><td>Reaction 内容。 </td></tr>
    <tr><td class="paramname">messageId</td><td>消息 ID。 </td></tr>
    <tr><td class="paramname">completion</td><td>该方法完成的回调。如果有错误会包含错误信息。 </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="acd79acd5bf4960488cf1dda087f6f128" name="acd79acd5bf4960488cf1dda087f6f128"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acd79acd5bf4960488cf1dda087f6f128">&#9670;&nbsp;</a></span>asyncFetchGroupMessageAcksFromServer:groupId:startGroupAckId:pageSize:completion:</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (void) asyncFetchGroupMessageAcksFromServer: </td>
          <td></td>
          <td class="paramtype">(NSString *_Nonnull)&#160;</td>
          <td class="paramname"><em>aMessageId</em></td>
        </tr>
        <tr>
          <td class="paramkey">groupId:</td>
          <td></td>
          <td class="paramtype">(NSString *_Nonnull)&#160;</td>
          <td class="paramname"><em>aGroupId</em></td>
        </tr>
        <tr>
          <td class="paramkey">startGroupAckId:</td>
          <td></td>
          <td class="paramtype">(NSString *_Nonnull)&#160;</td>
          <td class="paramname"><em>aGroupAckId</em></td>
        </tr>
        <tr>
          <td class="paramkey">pageSize:</td>
          <td></td>
          <td class="paramtype">(int)&#160;</td>
          <td class="paramname"><em>aPageSize</em></td>
        </tr>
        <tr>
          <td class="paramkey">completion:</td>
          <td></td>
          <td class="paramtype">(void(^)(<a class="el" href="interface_e_m_cursor_result.html">EMCursorResult</a>&lt; <a class="el" href="interface_e_m_group_message_ack.html">EMGroupMessageAck</a> * &gt; *_Nullable aResult, <a class="el" href="interface_e_m_error.html">EMError</a> *_Nullable error, int totalCount))&#160;</td>
          <td class="paramname"><em>aCompletionBlock</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">required</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >从服务器获取指定群消息的已读回执。</p>
<p >可调用该方法了解有多少群成员阅读了指定的群消息。</p>
<p >异步方法。</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">aMessageId</td><td>要获取已读回执的消息 ID。 </td></tr>
    <tr><td class="paramname">aGroupId</td><td>群组 ID。 </td></tr>
    <tr><td class="paramname">aGroupAckId</td><td>群消息已读回执 ID。 </td></tr>
    <tr><td class="paramname">aPageSize</td><td>每页期望获取的回执条数。 </td></tr>
    <tr><td class="paramname">aCompletionBlock</td><td>该方法完成调用的回调。如果该方法调用失败，会包含调用失败的原因。 </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad68c7f14abfdbd76c2aa7f35b441ab94" name="ad68c7f14abfdbd76c2aa7f35b441ab94"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad68c7f14abfdbd76c2aa7f35b441ab94">&#9670;&nbsp;</a></span>asyncFetchHistoryMessagesFromServer:conversationType:startMessageId:fetchDirection:pageSize:completion:</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (void) asyncFetchHistoryMessagesFromServer: </td>
          <td></td>
          <td class="paramtype">(NSString *_Nonnull)&#160;</td>
          <td class="paramname"><em>aConversationId</em></td>
        </tr>
        <tr>
          <td class="paramkey">conversationType:</td>
          <td></td>
          <td class="paramtype">(EMConversationType)&#160;</td>
          <td class="paramname"><em>aConversationType</em></td>
        </tr>
        <tr>
          <td class="paramkey">startMessageId:</td>
          <td></td>
          <td class="paramtype">(NSString *_Nullable)&#160;</td>
          <td class="paramname"><em>aStartMessageId</em></td>
        </tr>
        <tr>
          <td class="paramkey">fetchDirection:</td>
          <td></td>
          <td class="paramtype">(EMMessageFetchHistoryDirection)&#160;</td>
          <td class="paramname"><em>direction</em></td>
        </tr>
        <tr>
          <td class="paramkey">pageSize:</td>
          <td></td>
          <td class="paramtype">(int)&#160;</td>
          <td class="paramname"><em>aPageSize</em></td>
        </tr>
        <tr>
          <td class="paramkey">completion:</td>
          <td></td>
          <td class="paramtype">(&quot;Use -<a class="el" href="protocol_i_e_m_chat_manager-p.html#a10cb84d7a8240d932ab65b3402ed3a73">fetchMessagesFromServerBy:conversationType:cursor:pageSize:option:completion:</a> instead&quot;)&#160;</td>
          <td class="paramname"><em>__deprecated_msg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">required</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >从服务器获取指定会话的消息。</p>
<p >异步方法。</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">aConversationId</td><td>会话 ID。 </td></tr>
    <tr><td class="paramname">aConversationType</td><td>会话类型。 </td></tr>
    <tr><td class="paramname">aStartMessageId</td><td>查询的起始消息 ID。若该参数为空，SDK 从最新一条消息开始获取。 </td></tr>
    <tr><td class="paramname">direction</td><td>消息搜索方向。详见 <code><a class="el" href="">EMMessageFetchHistoryDirection</a></code>。 </td></tr>
    <tr><td class="paramname">aPageSize</td><td>每页期望获取的消息条数。取值范围为 [1,50]。 </td></tr>
    <tr><td class="paramname">aCompletionBlock</td><td>该方法完成调用的回调。 </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="af4ba1c576a4b1fd053b5a0932d974c38" name="af4ba1c576a4b1fd053b5a0932d974c38"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af4ba1c576a4b1fd053b5a0932d974c38">&#9670;&nbsp;</a></span>asyncFetchHistoryMessagesFromServer:conversationType:startMessageId:pageSize:completion:</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (void) asyncFetchHistoryMessagesFromServer: </td>
          <td></td>
          <td class="paramtype">(NSString *_Nonnull)&#160;</td>
          <td class="paramname"><em>aConversationId</em></td>
        </tr>
        <tr>
          <td class="paramkey">conversationType:</td>
          <td></td>
          <td class="paramtype">(EMConversationType)&#160;</td>
          <td class="paramname"><em>aConversationType</em></td>
        </tr>
        <tr>
          <td class="paramkey">startMessageId:</td>
          <td></td>
          <td class="paramtype">(NSString *_Nullable)&#160;</td>
          <td class="paramname"><em>aStartMessageId</em></td>
        </tr>
        <tr>
          <td class="paramkey">pageSize:</td>
          <td></td>
          <td class="paramtype">(int)&#160;</td>
          <td class="paramname"><em>aPageSize</em></td>
        </tr>
        <tr>
          <td class="paramkey">completion:</td>
          <td></td>
          <td class="paramtype">(&quot;Use -<a class="el" href="protocol_i_e_m_chat_manager-p.html#a10cb84d7a8240d932ab65b3402ed3a73">fetchMessagesFromServerBy:conversationType:cursor:pageSize:option:completion:</a> instead&quot;)&#160;</td>
          <td class="paramname"><em>__deprecated_msg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">required</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >从服务器获取指定会话的消息。</p>
<p >异步方法。</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">aConversationId</td><td>会话 ID。 </td></tr>
    <tr><td class="paramname">aConversationType</td><td>会话类型。 </td></tr>
    <tr><td class="paramname">aStartMessageId</td><td>查询的起始消息 ID。 </td></tr>
    <tr><td class="paramname">aPageSize</td><td>每页期望获取的消息条数。 </td></tr>
    <tr><td class="paramname">aCompletionBlock</td><td>该方法完成调用的回调。 </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="af434097b6183e3f425f8675fad5272bc" name="af434097b6183e3f425f8675fad5272bc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af434097b6183e3f425f8675fad5272bc">&#9670;&nbsp;</a></span>cleanConversationsMemoryCache</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (void) cleanConversationsMemoryCache </td>
          <td></td>
          <td class="paramname"></td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">required</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >清除本地内存中的所有会话释放内存。 </p>

</div>
</div>
<a id="a95e2c1c70e4827e614a1b539b141ee94" name="a95e2c1c70e4827e614a1b539b141ee94"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a95e2c1c70e4827e614a1b539b141ee94">&#9670;&nbsp;</a></span>deleteAllMessagesAndConversations:completion:</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (void) deleteAllMessagesAndConversations: </td>
          <td></td>
          <td class="paramtype">(BOOL)&#160;</td>
          <td class="paramname"><em>clearServerData</em></td>
        </tr>
        <tr>
          <td class="paramkey">completion:</td>
          <td></td>
          <td class="paramtype">(void(^)(<a class="el" href="interface_e_m_error.html">EMError</a> *_Nullable aError))&#160;</td>
          <td class="paramname"><em>aCompletionBlock</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">required</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >清空所有会话及其消息。</p>
<p >异步方法。</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">clearSeverData</td><td>是否删除服务端所有会话及其消息：<ul>
<li>YES：是。服务端的所有会话及其消息会被清除，当前用户无法再从服务端拉取消息和会话，其他用户不受影响。</li>
<li>（默认）NO：否。只清除本地所有会话及其消息，服务端的会话及其消息仍保留。 </li>
</ul>
</td></tr>
    <tr><td class="paramname">aCompletionBlock</td><td>该方法完成调用的回调。如果该方法调用失败，会包含调用失败的原因。 </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a8869fb98e589c18b17428f228ed61f79" name="a8869fb98e589c18b17428f228ed61f79"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8869fb98e589c18b17428f228ed61f79">&#9670;&nbsp;</a></span>deleteConversation:isDeleteMessages:completion:</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (void) deleteConversation: </td>
          <td></td>
          <td class="paramtype">(NSString *_Nonnull)&#160;</td>
          <td class="paramname"><em>aConversationId</em></td>
        </tr>
        <tr>
          <td class="paramkey">isDeleteMessages:</td>
          <td></td>
          <td class="paramtype">(BOOL)&#160;</td>
          <td class="paramname"><em>aIsDeleteMessages</em></td>
        </tr>
        <tr>
          <td class="paramkey">completion:</td>
          <td></td>
          <td class="paramtype">(void(^)(NSString *_Nullable aConversationId, <a class="el" href="interface_e_m_error.html">EMError</a> *_Nullable aError))&#160;</td>
          <td class="paramname"><em>aCompletionBlock</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">required</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >从本地数据库中删除一个会话。</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">aConversationId</td><td>会话 ID。 </td></tr>
    <tr><td class="paramname">aIsDeleteMessages</td><td>是否删除会话中的消息。<ul>
<li><code>YES</code>: 是；</li>
<li><code>NO</code>: 否。 </li>
</ul>
</td></tr>
    <tr><td class="paramname">aCompletionBlock</td><td>该方法完成调用的回调。如果该方法调用失败，会包含调用失败的原因。 </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a5e40bd7fca87991de81912fc67b63edb" name="a5e40bd7fca87991de81912fc67b63edb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5e40bd7fca87991de81912fc67b63edb">&#9670;&nbsp;</a></span>deleteConversations:isDeleteMessages:completion:</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (void) deleteConversations: </td>
          <td></td>
          <td class="paramtype">(NSArray&lt; <a class="el" href="interface_e_m_conversation.html">EMConversation</a> * &gt; *_Nullable)&#160;</td>
          <td class="paramname"><em>aConversations</em></td>
        </tr>
        <tr>
          <td class="paramkey">isDeleteMessages:</td>
          <td></td>
          <td class="paramtype">(BOOL)&#160;</td>
          <td class="paramname"><em>aIsDeleteMessages</em></td>
        </tr>
        <tr>
          <td class="paramkey">completion:</td>
          <td></td>
          <td class="paramtype">(void(^)(<a class="el" href="interface_e_m_error.html">EMError</a> *_Nullable aError))&#160;</td>
          <td class="paramname"><em>aCompletionBlock</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">required</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >删除一组会话。</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">aConversations</td><td>会话列表。 </td></tr>
    <tr><td class="paramname">aIsDeleteMessages</td><td>是否删除会话中的消息。<ul>
<li><code>YES</code>: 是；</li>
<li><code>NO</code>: 否。 </li>
</ul>
</td></tr>
    <tr><td class="paramname">aCompletionBlock</td><td>该方法完成调用的回调。如果该方法调用失败，会包含调用失败的原因。 </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ab67f3b7050de815caafdddf6529d3e4d" name="ab67f3b7050de815caafdddf6529d3e4d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab67f3b7050de815caafdddf6529d3e4d">&#9670;&nbsp;</a></span>deleteMessagesBefore:completion:</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (void) deleteMessagesBefore: </td>
          <td></td>
          <td class="paramtype">(NSUInteger)&#160;</td>
          <td class="paramname"><em>aTimestamp</em></td>
        </tr>
        <tr>
          <td class="paramkey">completion:</td>
          <td></td>
          <td class="paramtype">(void(^)(<a class="el" href="interface_e_m_error.html">EMError</a> *error))&#160;</td>
          <td class="paramname"><em>aCompletion</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">required</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >删除指定时间戳之前的本地历史消息。在设置<code><a class="el" href="interface_e_m_options.html">EMOptions</a></code>中<code>autoLoadConversations</code>属性为 <code>false</code>后，会导致被过滤的会话拉消息未读数不准确。</p>
<p >异步方法。</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">aTimestamp</td><td>指定的消息时间戳，单位为毫秒。时间戳之前的本地消息会被删除。 </td></tr>
    <tr><td class="paramname">aCompletion</td><td>该方法完成调用的回调。如果该方法调用失败，会包含调用失败的原因。 </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="acd99e104a4dc5e145e3e60773d761195" name="acd99e104a4dc5e145e3e60773d761195"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acd99e104a4dc5e145e3e60773d761195">&#9670;&nbsp;</a></span>deleteServerConversation:conversationType:isDeleteServerMessages:completion:</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (void) deleteServerConversation: </td>
          <td></td>
          <td class="paramtype">(NSString *_Nonnull)&#160;</td>
          <td class="paramname"><em>aConversationId</em></td>
        </tr>
        <tr>
          <td class="paramkey">conversationType:</td>
          <td></td>
          <td class="paramtype">(EMConversationType)&#160;</td>
          <td class="paramname"><em>aConversationType</em></td>
        </tr>
        <tr>
          <td class="paramkey">isDeleteServerMessages:</td>
          <td></td>
          <td class="paramtype">(BOOL)&#160;</td>
          <td class="paramname"><em>aIsDeleteServerMessages</em></td>
        </tr>
        <tr>
          <td class="paramkey">completion:</td>
          <td></td>
          <td class="paramtype">(void(^)(NSString *_Nullable aConversationId, <a class="el" href="interface_e_m_error.html">EMError</a> *_Nullable aError))&#160;</td>
          <td class="paramname"><em>aCompletionBlock</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">required</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >删除服务器会话。</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">aConversationId</td><td>会话 ID。 </td></tr>
    <tr><td class="paramname">aConversationType</td><td>会话类型。 </td></tr>
    <tr><td class="paramname">aIsDeleteMessages</td><td>是否同时删除会话中的消息。<ul>
<li><code>YES</code>: 是；</li>
<li><code>NO</code>: 否。 </li>
</ul>
</td></tr>
    <tr><td class="paramname">aCompletionBlock</td><td>该方法完成调用的回调。如果该方法调用失败，会包含调用失败的原因。 </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a3c1820e3bf708932525ee3bff46f5ad9" name="a3c1820e3bf708932525ee3bff46f5ad9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3c1820e3bf708932525ee3bff46f5ad9">&#9670;&nbsp;</a></span>downloadAndParseCombineMessage:completion:</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (void) downloadAndParseCombineMessage: </td>
          <td></td>
          <td class="paramtype">(<a class="el" href="interface_e_m_chat_message.html">EMChatMessage</a> *_Nonnull)&#160;</td>
          <td class="paramname"><em>aMessage</em></td>
        </tr>
        <tr>
          <td class="paramkey">completion:</td>
          <td></td>
          <td class="paramtype">(void(^)(NSArray&lt; <a class="el" href="interface_e_m_chat_message.html">EMChatMessage</a> * &gt; *_Nullable messages, <a class="el" href="interface_e_m_error.html">EMError</a> *_Nullable error))&#160;</td>
          <td class="paramname"><em>aCompletionBlock</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">required</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >下载并解析合并消息中的附件。</p>
<p >异步方法。</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">aMessage</td><td>合并消息对象。 </td></tr>
    <tr><td class="paramname">aCompletionBlock</td><td>该方法完成调用的回调。如果该方法调用失败，会包含调用失败的原因。 </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="adb157ebedb5b163e411d9a100ca70885" name="adb157ebedb5b163e411d9a100ca70885"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adb157ebedb5b163e411d9a100ca70885">&#9670;&nbsp;</a></span>downloadMessageAttachment:progress:completion:</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (void) downloadMessageAttachment: </td>
          <td></td>
          <td class="paramtype">(<a class="el" href="interface_e_m_chat_message.html">EMChatMessage</a> *_Nonnull)&#160;</td>
          <td class="paramname"><em>aMessage</em></td>
        </tr>
        <tr>
          <td class="paramkey">progress:</td>
          <td></td>
          <td class="paramtype">(void(^)(int progress))&#160;</td>
          <td class="paramname"><em>aProgressBlock</em></td>
        </tr>
        <tr>
          <td class="paramkey">completion:</td>
          <td></td>
          <td class="paramtype">(void(^)(<a class="el" href="interface_e_m_chat_message.html">EMChatMessage</a> *_Nullable message, <a class="el" href="interface_e_m_error.html">EMError</a> *_Nullable error))&#160;</td>
          <td class="paramname"><em>aCompletionBlock</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">required</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >下载消息附件（语音、视频、图片原图、文件）。</p>
<p >SDK 会自动下载语音消息。如果自动下载失败，你可以调用该方法。</p>
<p >异步方法。</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">aMessage</td><td>消息。 </td></tr>
    <tr><td class="paramname">aProgressBlock</td><td>附件下载进度回调 block。进度值的范围为 [0,100]。 </td></tr>
    <tr><td class="paramname">aCompletionBlock</td><td>该方法完成调用的回调。如果该方法调用失败，会包含调用失败的原因。 </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="af1de9919bfc24ed8472175bd8f8e12fe" name="af1de9919bfc24ed8472175bd8f8e12fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af1de9919bfc24ed8472175bd8f8e12fe">&#9670;&nbsp;</a></span>downloadMessageThumbnail:progress:completion:</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (void) downloadMessageThumbnail: </td>
          <td></td>
          <td class="paramtype">(<a class="el" href="interface_e_m_chat_message.html">EMChatMessage</a> *_Nonnull)&#160;</td>
          <td class="paramname"><em>aMessage</em></td>
        </tr>
        <tr>
          <td class="paramkey">progress:</td>
          <td></td>
          <td class="paramtype">(void(^)(int progress))&#160;</td>
          <td class="paramname"><em>aProgressBlock</em></td>
        </tr>
        <tr>
          <td class="paramkey">completion:</td>
          <td></td>
          <td class="paramtype">(void(^)(<a class="el" href="interface_e_m_chat_message.html">EMChatMessage</a> *_Nullable message, <a class="el" href="interface_e_m_error.html">EMError</a> *_Nullable error))&#160;</td>
          <td class="paramname"><em>aCompletionBlock</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">required</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >下载缩略图（图片缩略图或视频的第一帧图片）。</p>
<p >SDK 会自动下载缩略图。如果自动下载失败，你可以调用该方法下载缩略图。</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">aMessage</td><td>消息对象。 </td></tr>
    <tr><td class="paramname">aProgressBlock</td><td>附件下载进度回调 block。进度值的范围为 [0,100]。 </td></tr>
    <tr><td class="paramname">aCompletionBlock</td><td>该方法完成调用的回调。如果该方法调用失败，会包含调用失败的原因。 </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ab5c193f0ea04e26aa28825221670d101" name="ab5c193f0ea04e26aa28825221670d101"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab5c193f0ea04e26aa28825221670d101">&#9670;&nbsp;</a></span>fetchHistoryMessagesFromServer:conversationType:startMessageId:fetchDirection:pageSize:error:</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (<a class="el" href="interface_e_m_cursor_result.html">EMCursorResult</a>&lt; <a class="el" href="interface_e_m_chat_message.html">EMChatMessage</a> * &gt; *_Nullable) fetchHistoryMessagesFromServer: </td>
          <td></td>
          <td class="paramtype">(NSString *_Nonnull)&#160;</td>
          <td class="paramname"><em>aConversationId</em></td>
        </tr>
        <tr>
          <td class="paramkey">conversationType:</td>
          <td></td>
          <td class="paramtype">(EMConversationType)&#160;</td>
          <td class="paramname"><em>aConversationType</em></td>
        </tr>
        <tr>
          <td class="paramkey">startMessageId:</td>
          <td></td>
          <td class="paramtype">(NSString *_Nullable)&#160;</td>
          <td class="paramname"><em>aStartMessageId</em></td>
        </tr>
        <tr>
          <td class="paramkey">fetchDirection:</td>
          <td></td>
          <td class="paramtype">(EMMessageFetchHistoryDirection)&#160;</td>
          <td class="paramname"><em>direction</em></td>
        </tr>
        <tr>
          <td class="paramkey">pageSize:</td>
          <td></td>
          <td class="paramtype">(int)&#160;</td>
          <td class="paramname"><em>aPageSize</em></td>
        </tr>
        <tr>
          <td class="paramkey">error:</td>
          <td></td>
          <td class="paramtype">(&quot;Use -<a class="el" href="protocol_i_e_m_chat_manager-p.html#a10cb84d7a8240d932ab65b3402ed3a73">fetchMessagesFromServerBy:conversationType:cursor:pageSize:option:completion:</a> instead&quot;)&#160;</td>
          <td class="paramname"><em>__deprecated_msg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">required</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >从服务器获取指定会话的消息。</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">aConversationId</td><td>会话 ID。 </td></tr>
    <tr><td class="paramname">aConversationType</td><td>会话类型。 </td></tr>
    <tr><td class="paramname">aStartMessageId</td><td>查询的起始消息 ID。若该参数为空，SDK 从最新一条消息开始获取。 </td></tr>
    <tr><td class="paramname">direction</td><td>消息搜索方向。详见 <code><a class="el" href="">EMMessageFetchHistoryDirection</a></code>。 </td></tr>
    <tr><td class="paramname">aPageSize</td><td>每页期望获取的消息条数。 </td></tr>
    <tr><td class="paramname">pError</td><td>错误信息。</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>获取的消息内容列表。 </dd></dl>

</div>
</div>
<a id="a106dc239e476c8f8d3d655fa5740fe3f" name="a106dc239e476c8f8d3d655fa5740fe3f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a106dc239e476c8f8d3d655fa5740fe3f">&#9670;&nbsp;</a></span>fetchHistoryMessagesFromServer:conversationType:startMessageId:pageSize:error:</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (<a class="el" href="interface_e_m_cursor_result.html">EMCursorResult</a>&lt; <a class="el" href="interface_e_m_chat_message.html">EMChatMessage</a> * &gt; *_Nullable) fetchHistoryMessagesFromServer: </td>
          <td></td>
          <td class="paramtype">(NSString *_Nonnull)&#160;</td>
          <td class="paramname"><em>aConversationId</em></td>
        </tr>
        <tr>
          <td class="paramkey">conversationType:</td>
          <td></td>
          <td class="paramtype">(EMConversationType)&#160;</td>
          <td class="paramname"><em>aConversationType</em></td>
        </tr>
        <tr>
          <td class="paramkey">startMessageId:</td>
          <td></td>
          <td class="paramtype">(NSString *_Nullable)&#160;</td>
          <td class="paramname"><em>aStartMessageId</em></td>
        </tr>
        <tr>
          <td class="paramkey">pageSize:</td>
          <td></td>
          <td class="paramtype">(int)&#160;</td>
          <td class="paramname"><em>aPageSize</em></td>
        </tr>
        <tr>
          <td class="paramkey">error:</td>
          <td></td>
          <td class="paramtype">(&quot;Use -<a class="el" href="protocol_i_e_m_chat_manager-p.html#a10cb84d7a8240d932ab65b3402ed3a73">fetchMessagesFromServerBy:conversationType:cursor:pageSize:option:completion:</a> instead&quot;)&#160;</td>
          <td class="paramname"><em>__deprecated_msg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">required</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >从服务器获取指定会话的消息。</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">aConversationId</td><td>会话 ID。 </td></tr>
    <tr><td class="paramname">aConversationType</td><td>会话类型。 </td></tr>
    <tr><td class="paramname">aStartMessageId</td><td>查询的起始消息 ID。若该参数为空，SDK 从最新一条消息开始获取。 </td></tr>
    <tr><td class="paramname">aPageSize</td><td>每页期望获取的消息条数。 </td></tr>
    <tr><td class="paramname">pError</td><td>错误信息。</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>获取的消息内容列表。 </dd></dl>

</div>
</div>
<a id="a10cb84d7a8240d932ab65b3402ed3a73" name="a10cb84d7a8240d932ab65b3402ed3a73"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a10cb84d7a8240d932ab65b3402ed3a73">&#9670;&nbsp;</a></span>fetchMessagesFromServerBy:conversationType:cursor:pageSize:option:completion:</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (void) fetchMessagesFromServerBy: </td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>conversationId</em></td>
        </tr>
        <tr>
          <td class="paramkey">conversationType:</td>
          <td></td>
          <td class="paramtype">(EMConversationType)&#160;</td>
          <td class="paramname"><em>type</em></td>
        </tr>
        <tr>
          <td class="paramkey">cursor:</td>
          <td></td>
          <td class="paramtype">(NSString *_Nullable)&#160;</td>
          <td class="paramname"><em>cursor</em></td>
        </tr>
        <tr>
          <td class="paramkey">pageSize:</td>
          <td></td>
          <td class="paramtype">(NSUInteger)&#160;</td>
          <td class="paramname"><em>pageSize</em></td>
        </tr>
        <tr>
          <td class="paramkey">option:</td>
          <td></td>
          <td class="paramtype">(<a class="el" href="interface_e_m_fetch_server_messages_option.html">EMFetchServerMessagesOption</a> *_Nullable)&#160;</td>
          <td class="paramname"><em>option</em></td>
        </tr>
        <tr>
          <td class="paramkey">completion:</td>
          <td></td>
          <td class="paramtype">(void(^)(<a class="el" href="interface_e_m_cursor_result.html">EMCursorResult</a>&lt; <a class="el" href="interface_e_m_chat_message.html">EMChatMessage</a> * &gt; *_Nullable result, <a class="el" href="interface_e_m_error.html">EMError</a> *_Nullable aError))&#160;</td>
          <td class="paramname"><em>aCompletionBlock</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">required</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >根据消息拉取参数配置接口（<code><a class="el" href="interface_e_m_fetch_server_messages_option.html">EMFetchServerMessagesOption</a></code>）从服务器分页获取指定会话的历史消息。 当返回的消息条数小于期望获取的消息条数时，说明服务器已经没有更多历史消息。</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">conversationId</td><td>会话 ID。<ul>
<li>单聊：对端用户的用户 ID；</li>
<li>群聊：群组 ID;</li>
<li>聊天室：聊天室 ID。 </li>
</ul>
</td></tr>
    <tr><td class="paramname">type</td><td>会话类型。 </td></tr>
    <tr><td class="paramname">cursor</td><td>查询的起始游标位置。 </td></tr>
    <tr><td class="paramname">pageSize</td><td>每页期望获取的消息条数。取值范围为 [1,50]。 </td></tr>
    <tr><td class="paramname">option</td><td>查询历史消息的参数配置接口，详见 <code><a class="el" href="interface_e_m_fetch_server_messages_option.html">EMFetchServerMessagesOption</a></code>。 </td></tr>
    <tr><td class="paramname">aCompletionBlock</td><td>该方法完成调用的回调。如果该方法调用失败，会包含调用失败的原因。 </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a1b4ffe09737822fb665cfa16713433a1" name="a1b4ffe09737822fb665cfa16713433a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1b4ffe09737822fb665cfa16713433a1">&#9670;&nbsp;</a></span>fetchSupportedLanguages:</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (void) fetchSupportedLanguages: </td>
          <td></td>
          <td class="paramtype">(void(^)(NSArray&lt; <a class="el" href="interface_e_m_translate_language.html">EMTranslateLanguage</a> * &gt; *_Nullable languages, <a class="el" href="interface_e_m_error.html">EMError</a> *_Nullable error))&#160;</td>
          <td class="paramname"><em>aCompletionBlock</em></td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">required</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >获取翻译服务支持的语言。</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">aCompletionBlock</td><td>该方法完成调用的回调。如果该方法调用失败，会包含调用失败的原因。 </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ab41c526f0aee13e8b4d66b2a4b00913b" name="ab41c526f0aee13e8b4d66b2a4b00913b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab41c526f0aee13e8b4d66b2a4b00913b">&#9670;&nbsp;</a></span>filterConversationsFromDB:filter:</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (NSArray&lt; <a class="el" href="interface_e_m_conversation.html">EMConversation</a> * &gt; *_Nullable) filterConversationsFromDB: </td>
          <td></td>
          <td class="paramtype">(BOOL)&#160;</td>
          <td class="paramname"><em>cleanMemoryCache</em></td>
        </tr>
        <tr>
          <td class="paramkey">filter:</td>
          <td></td>
          <td class="paramtype">(filterConversationsFromDB(cleanMemoryCache:filter:))&#160;</td>
          <td class="paramname"><em>NS_SWIFT_NAME</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">required</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >根据过滤器获取本地所有会话。</p>
<p >调用该接口时，SDK 会根据过滤条件从本地数据库获取会话。</p>
<p >v必须确保登录成功后调用。</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">cleanMemoryCache</td><td>是否清空内存缓存的会话。 </td></tr>
    <tr><td class="paramname">filter</td><td>过滤器。若该参数的返回值为 <code>YES</code>，表示会话会返回；<code>NO</code>，表示会话不返回。</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>会话列表，NSArray&lt;EMConversation *&gt; * 类型。 </dd></dl>

</div>
</div>
<a id="a9159a946045d347e01eaeb754491b3c6" name="a9159a946045d347e01eaeb754491b3c6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9159a946045d347e01eaeb754491b3c6">&#9670;&nbsp;</a></span>getAllConversations</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (NSArray&lt; <a class="el" href="interface_e_m_conversation.html">EMConversation</a> * &gt; *_Nullable) getAllConversations </td>
          <td></td>
          <td class="paramname"></td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">required</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >获取本地所有会话。</p>
<p >该方法会先从内存中获取，如果未找到任何会话，从本地数据库获取。</p>
<dl class="section return"><dt>返回</dt><dd>会话列表，NSArray&lt;EMConversation *&gt; * 类型。 </dd></dl>

</div>
</div>
<a id="aec32d7761375fd28497bd016af34e69b" name="aec32d7761375fd28497bd016af34e69b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aec32d7761375fd28497bd016af34e69b">&#9670;&nbsp;</a></span>getAllConversations:</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (NSArray&lt; <a class="el" href="interface_e_m_conversation.html">EMConversation</a> * &gt; *_Nullable) getAllConversations: </td>
          <td></td>
          <td class="paramtype">(BOOL)&#160;</td>
          <td class="paramname"><em>isSort</em></td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">required</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >获取本地所有会话。</p>
<p >该方法会先从内存中获取，如果未找到任何会话，SDK 从本地数据库获取。</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">isSort</td><td>是否对会话排序。<ul>
<li>YES: YES。SDK 按照最近一条消息的时间戳的倒序返回会话，置顶会话在前，非置顶会话在后。</li>
<li>NO: NO </li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>会话列表，NSArray&lt;EMConversation *&gt; * 类型。 </dd></dl>

</div>
</div>
<a id="a4c90e488c1701ef6fc7ee6d5939e5cde" name="a4c90e488c1701ef6fc7ee6d5939e5cde"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4c90e488c1701ef6fc7ee6d5939e5cde">&#9670;&nbsp;</a></span>getConversation:type:createIfNotExist:</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (<a class="el" href="interface_e_m_conversation.html">EMConversation</a> *_Nullable) getConversation: </td>
          <td></td>
          <td class="paramtype">(NSString *_Nonnull)&#160;</td>
          <td class="paramname"><em>aConversationId</em></td>
        </tr>
        <tr>
          <td class="paramkey">type:</td>
          <td></td>
          <td class="paramtype">(EMConversationType)&#160;</td>
          <td class="paramname"><em>aType</em></td>
        </tr>
        <tr>
          <td class="paramkey">createIfNotExist:</td>
          <td></td>
          <td class="paramtype">(BOOL)&#160;</td>
          <td class="paramname"><em>aIfCreate</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">required</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >获取一个会话。</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">aConversationId</td><td>会话 ID。 </td></tr>
    <tr><td class="paramname">aType</td><td>会话类型。 </td></tr>
    <tr><td class="paramname">aIfCreate</td><td>若该会话不存在是否创建：<ul>
<li><code>YES</code>：是；</li>
<li><code>NO</code>：否。</li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>会话对象。 </dd></dl>

</div>
</div>
<a id="a0d9425820bb32ce9090851b196dbcfac" name="a0d9425820bb32ce9090851b196dbcfac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0d9425820bb32ce9090851b196dbcfac">&#9670;&nbsp;</a></span>getConversation:type:createIfNotExist:isThread:</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (<a class="el" href="interface_e_m_conversation.html">EMConversation</a> *_Nullable) getConversation: </td>
          <td></td>
          <td class="paramtype">(NSString *_Nonnull)&#160;</td>
          <td class="paramname"><em>aConversationId</em></td>
        </tr>
        <tr>
          <td class="paramkey">type:</td>
          <td></td>
          <td class="paramtype">(EMConversationType)&#160;</td>
          <td class="paramname"><em>aType</em></td>
        </tr>
        <tr>
          <td class="paramkey">createIfNotExist:</td>
          <td></td>
          <td class="paramtype">(BOOL)&#160;</td>
          <td class="paramname"><em>aIfCreate</em></td>
        </tr>
        <tr>
          <td class="paramkey">isThread:</td>
          <td></td>
          <td class="paramtype">(BOOL)&#160;</td>
          <td class="paramname"><em>isThread</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">required</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >获取一个会话。</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">aConversationId</td><td>会话 ID。 </td></tr>
    <tr><td class="paramname">aType</td><td>会话类型。 </td></tr>
    <tr><td class="paramname">aIfCreate</td><td>若该会话不存在是否创建。<ul>
<li><code>YES</code>：是；</li>
<li><code>NO</code>：否。 </li>
</ul>
</td></tr>
    <tr><td class="paramname">isThread</td><td>是否是子区会话，即是否为 <code>threadChat</code> 类型的会话。<ul>
<li><code>YES</code>: 是；</li>
<li><code>NO</code>: 否。 </li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>会话对象。 </dd></dl>

</div>
</div>
<a id="a60614d53d31fa18189b2addac2d1a91e" name="a60614d53d31fa18189b2addac2d1a91e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a60614d53d31fa18189b2addac2d1a91e">&#9670;&nbsp;</a></span>getConversationsFromServer:</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (void) getConversationsFromServer: </td>
          <td></td>
          <td class="paramtype">(4_0_0)&#160;</td>
          <td class="paramname"></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">(&quot;Use -<a class="el" href="protocol_i_e_m_chat_manager-p.html">IEMChatManager</a> getConversationsFromServerWithCursor:pageSize:completion&quot;)&#160;</td>
          <td class="paramname"><em>EM_DEPRECATED_IOS</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">required</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >从服务器获取所有会话。</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">aCompletionBlock</td><td>该方法完成调用的回调。如果该方法调用失败，会包含调用失败的原因。 </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a0acfd02454ae897d84e96b1542437ff6" name="a0acfd02454ae897d84e96b1542437ff6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0acfd02454ae897d84e96b1542437ff6">&#9670;&nbsp;</a></span>getConversationsFromServerByPage:pageSize:completion:</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (void) getConversationsFromServerByPage: </td>
          <td></td>
          <td class="paramtype">(NSUInteger)&#160;</td>
          <td class="paramname"><em>pageNumber</em></td>
        </tr>
        <tr>
          <td class="paramkey">pageSize:</td>
          <td></td>
          <td class="paramtype">(NSUInteger)&#160;</td>
          <td class="paramname"><em>pageSize</em></td>
        </tr>
        <tr>
          <td class="paramkey">completion:</td>
          <td></td>
          <td class="paramtype">(4_0_0)&#160;</td>
          <td class="paramname"></td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">(&quot;Use -<a class="el" href="protocol_i_e_m_chat_manager-p.html">IEMChatManager</a> getConversationsFromServerWithCursor:pageSize:completion&quot;)&#160;</td>
          <td class="paramname"><em>EM_DEPRECATED_IOS</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">required</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >从服务器分页获取会话。</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">pageNumber</td><td>当前页码，从 1 开始。 </td></tr>
    <tr><td class="paramname">pageSize</td><td>每页获取的的会话数。 </td></tr>
    <tr><td class="paramname">aCompletionBlock</td><td>该方法完成调用的回调。如果该方法调用失败，会包含调用失败的原因。 </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ac0dfccc5ece53e7260cb774fafb7e11f" name="ac0dfccc5ece53e7260cb774fafb7e11f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac0dfccc5ece53e7260cb774fafb7e11f">&#9670;&nbsp;</a></span>getConversationsFromServerWithCursor:filter:completion:</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (void) getConversationsFromServerWithCursor: </td>
          <td></td>
          <td class="paramtype">(NSString *_Nullable)&#160;</td>
          <td class="paramname"><em>cursor</em></td>
        </tr>
        <tr>
          <td class="paramkey">filter:</td>
          <td></td>
          <td class="paramtype">(<a class="el" href="interface_e_m_conversation_filter.html">EMConversationFilter</a> *_Nonnull)&#160;</td>
          <td class="paramname"><em>filter</em></td>
        </tr>
        <tr>
          <td class="paramkey">completion:</td>
          <td></td>
          <td class="paramtype">(nonnull void(^)(<a class="el" href="interface_e_m_cursor_result.html">EMCursorResult</a>&lt; <a class="el" href="interface_e_m_conversation.html">EMConversation</a> * &gt; *_Nullable result, <a class="el" href="interface_e_m_error.html">EMError</a> *_Nullable error))&#160;</td>
          <td class="paramname"><em>completionBlock</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">required</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >根据会话过滤类从服务器分页查询会话列表。</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">cursor</td><td>查询的开始位置。若传入 <code>nil</code> 或 <code>@""</code>，SDK 从最新标记操作的会话开始获取。 </td></tr>
    <tr><td class="paramname">filter</td><td>查询选项，包括会话标记和每页获取的会话列表条数。 </td></tr>
    <tr><td class="paramname">aCompletionBlock</td><td>该方法完成的回调，返回会话列表和用于下一次获取数据的 cursor。当 cursor 为 空字符串时，表示已获取全部数据。 </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ab960513636ad6c85917513f8ec54d8a6" name="ab960513636ad6c85917513f8ec54d8a6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab960513636ad6c85917513f8ec54d8a6">&#9670;&nbsp;</a></span>getConversationsFromServerWithCursor:pageSize:completion:</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (void) getConversationsFromServerWithCursor: </td>
          <td></td>
          <td class="paramtype">(nullable NSString *)&#160;</td>
          <td class="paramname"><em>cursor</em></td>
        </tr>
        <tr>
          <td class="paramkey">pageSize:</td>
          <td></td>
          <td class="paramtype">(UInt8)&#160;</td>
          <td class="paramname"><em>pageSize</em></td>
        </tr>
        <tr>
          <td class="paramkey">completion:</td>
          <td></td>
          <td class="paramtype">(nonnull void(^)(<a class="el" href="interface_e_m_cursor_result.html">EMCursorResult</a>&lt; <a class="el" href="interface_e_m_conversation.html">EMConversation</a> * &gt; *_Nullable result, <a class="el" href="interface_e_m_error.html">EMError</a> *_Nullable error))&#160;</td>
          <td class="paramname"><em>completionBlock</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">required</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >分页从服务器获取获取会话列表。</p>
<p >SDK 按照会话活跃时间（会话的最后一条消息的时间戳）倒序返回会话列表。</p>
<p >若会话中没有消息，则 SDK 按照会话创建时间的倒序返回会话列表。</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">cursor</td><td>查询的开始位置。若传入 <code>nil</code> 或 <code>@""</code>，SDK 从最新活跃的会话开始获取。 </td></tr>
    <tr><td class="paramname">pageSize</td><td>每页期望返回的会话数量。取值范围为 [1,50]。 </td></tr>
    <tr><td class="paramname">aCompletionBlock</td><td>该方法完成调用的回调。如果该方法调用失败，会包含调用失败的原因。 </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aa4a0ce0755f99d82c08ce89c9b3abfc3" name="aa4a0ce0755f99d82c08ce89c9b3abfc3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa4a0ce0755f99d82c08ce89c9b3abfc3">&#9670;&nbsp;</a></span>getConversationWithConvId:</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (<a class="el" href="interface_e_m_conversation.html">EMConversation</a> *_Nullable) getConversationWithConvId: </td>
          <td></td>
          <td class="paramtype">(NSString *_Nullable)&#160;</td>
          <td class="paramname"><em>aConversationId</em></td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">required</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >从本地数据库中获取一个已存在的会话。</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">aConversationId</td><td>会话 ID。</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>会话对象。 </dd></dl>

</div>
</div>
<a id="a3fd6f477bf901732ec24b146b05bd79e" name="a3fd6f477bf901732ec24b146b05bd79e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3fd6f477bf901732ec24b146b05bd79e">&#9670;&nbsp;</a></span>getMessageAttachmentPath:</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (NSString *_Nullable) getMessageAttachmentPath: </td>
          <td></td>
          <td class="paramtype">(NSString *_Nonnull)&#160;</td>
          <td class="paramname"><em>aConversationId</em></td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">required</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >获取一个会话中消息附件的本地路径。</p>
<p >删除会话时，会话中的消息附件也会被删除。</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">aConversationId</td><td>会话 ID。</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>附件路径。 </dd></dl>

</div>
</div>
<a id="ae004337a6e59c55f2c6b4a2d9a54305f" name="ae004337a6e59c55f2c6b4a2d9a54305f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae004337a6e59c55f2c6b4a2d9a54305f">&#9670;&nbsp;</a></span>getMessageCountWithCompletion:</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (void) getMessageCountWithCompletion: </td>
          <td></td>
          <td class="paramtype">(void(^)(NSInteger count, <a class="el" href="interface_e_m_error.html">EMError</a> *_Nullable aError))&#160;</td>
          <td class="paramname"><em>completion</em></td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">required</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >获取数据库中的消息总数。</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">completion</td><td>获取数据库中消息总数的回调，包含消息总数和失败原因。 </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aa05d2ce22fb77ac7e4ad7bde1479c278" name="aa05d2ce22fb77ac7e4ad7bde1479c278"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa05d2ce22fb77ac7e4ad7bde1479c278">&#9670;&nbsp;</a></span>getMessageWithMessageId:</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (<a class="el" href="interface_e_m_chat_message.html">EMChatMessage</a> *_Nullable) getMessageWithMessageId: </td>
          <td></td>
          <td class="paramtype">(NSString *_Nonnull)&#160;</td>
          <td class="paramname"><em>aMessageId</em></td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">required</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >获取指定的消息。</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">aMessageId</td><td>消息 ID。</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>获取到的消息。 </dd></dl>

</div>
</div>
<a id="aaba5f63f05f9da74122e3e3b5dedcff2" name="aaba5f63f05f9da74122e3e3b5dedcff2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaba5f63f05f9da74122e3e3b5dedcff2">&#9670;&nbsp;</a></span>getPinnedConversationsFromServerWithCursor:pageSize:completion:</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (void) getPinnedConversationsFromServerWithCursor: </td>
          <td></td>
          <td class="paramtype">(nullable NSString *)&#160;</td>
          <td class="paramname"><em>cursor</em></td>
        </tr>
        <tr>
          <td class="paramkey">pageSize:</td>
          <td></td>
          <td class="paramtype">(UInt8)&#160;</td>
          <td class="paramname"><em>limit</em></td>
        </tr>
        <tr>
          <td class="paramkey">completion:</td>
          <td></td>
          <td class="paramtype">(nonnull void(^)(<a class="el" href="interface_e_m_cursor_result.html">EMCursorResult</a>&lt; <a class="el" href="interface_e_m_conversation.html">EMConversation</a> * &gt; *_Nullable result, <a class="el" href="interface_e_m_error.html">EMError</a> *_Nullable error))&#160;</td>
          <td class="paramname"><em>completionBlock</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">required</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >分页从服务器获取置顶会话。</p>
<p >SDK 按照会话的置顶时间的倒序返回会话列表。</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">cursor</td><td>查询的开始位置。若传 <code>nil</code> 或 <code>@""</code>，SDK 从最新置顶的会话开始查询。 </td></tr>
    <tr><td class="paramname">pageSize</td><td>每页期望返回的会话数量。取值范围为 [1,50]。 </td></tr>
    <tr><td class="paramname">completionBlock</td><td>该方法完成调用的回调。如果该方法调用失败，会包含调用失败的原因。 </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a6d62ee40de1e5af0ebe25f39fbe4b54d" name="a6d62ee40de1e5af0ebe25f39fbe4b54d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6d62ee40de1e5af0ebe25f39fbe4b54d">&#9670;&nbsp;</a></span>getPinnedMessagesFromServer:completion:</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (void) getPinnedMessagesFromServer: </td>
          <td></td>
          <td class="paramtype">(NSString *_Nonnull)&#160;</td>
          <td class="paramname"><em>conversationId</em></td>
        </tr>
        <tr>
          <td class="paramkey">completion:</td>
          <td></td>
          <td class="paramtype">(void(^)(NSArray&lt; <a class="el" href="interface_e_m_chat_message.html">EMChatMessage</a> * &gt; *_Nullable messages, <a class="el" href="interface_e_m_error.html">EMError</a> *_Nullable aError))&#160;</td>
          <td class="paramname"><em>aCompletionBlock</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">required</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >获取会话内的置顶消息列表。</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">conversationId</td><td>会话 ID。 </td></tr>
    <tr><td class="paramname">aCompletionBlock</td><td>该方法完成的回调，返回置顶消息列表。如果该方法调用失败，会包含调用失败的原因。 </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a3a61731104e7609fcf531b0bdff7a92c" name="a3a61731104e7609fcf531b0bdff7a92c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3a61731104e7609fcf531b0bdff7a92c">&#9670;&nbsp;</a></span>getReactionDetail:reaction:cursor:pageSize:completion:</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (void) getReactionDetail: </td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>messageId</em></td>
        </tr>
        <tr>
          <td class="paramkey">reaction:</td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>reaction</em></td>
        </tr>
        <tr>
          <td class="paramkey">cursor:</td>
          <td></td>
          <td class="paramtype">(nullable NSString *)&#160;</td>
          <td class="paramname"><em>cursor</em></td>
        </tr>
        <tr>
          <td class="paramkey">pageSize:</td>
          <td></td>
          <td class="paramtype">(uint64_t)&#160;</td>
          <td class="paramname"><em>pageSize</em></td>
        </tr>
        <tr>
          <td class="paramkey">completion:</td>
          <td></td>
          <td class="paramtype">(void(^)(<a class="el" href="interface_e_m_message_reaction.html">EMMessageReaction</a> *, NSString *_Nullable cursor, <a class="el" href="interface_e_m_error.html">EMError</a> *_Nullable))&#160;</td>
          <td class="paramname"><em>completion</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">required</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >分页获取群聊消息的 Reaction 详细列表。</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">messageId</td><td>消息 ID。 </td></tr>
    <tr><td class="paramname">reaction</td><td>Reaction 内容。 </td></tr>
    <tr><td class="paramname">cursor</td><td>查询的开始位置。首次调用该方法可传 <code>nil</code> 或 <code>@""</code> 以 Reaction 创建时间的正序获取。 </td></tr>
    <tr><td class="paramname">pageSize</td><td>每页期望返回的 Reaction 数量。取值范围为 [1,100]。 </td></tr>
    <tr><td class="paramname">completion</td><td>该方法完成的回调，返回 Reaction 列表和用于继续获取数据的 cursor。当 cursor 为 <code>nil</code> 时表示已获取全部数据。 </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a7e3d20aaff25363f19d7c0d803f49c29" name="a7e3d20aaff25363f19d7c0d803f49c29"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7e3d20aaff25363f19d7c0d803f49c29">&#9670;&nbsp;</a></span>getReactionList:groupId:chatType:completion:</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (void) getReactionList: </td>
          <td></td>
          <td class="paramtype">(NSArray&lt; NSString * &gt; *)&#160;</td>
          <td class="paramname"><em>messageIds</em></td>
        </tr>
        <tr>
          <td class="paramkey">groupId:</td>
          <td></td>
          <td class="paramtype">(nullable NSString *)&#160;</td>
          <td class="paramname"><em>groupId</em></td>
        </tr>
        <tr>
          <td class="paramkey">chatType:</td>
          <td></td>
          <td class="paramtype">(EMChatType)&#160;</td>
          <td class="paramname"><em>chatType</em></td>
        </tr>
        <tr>
          <td class="paramkey">completion:</td>
          <td></td>
          <td class="paramtype">(void(^)(NSDictionary&lt; NSString *, NSArray&lt; <a class="el" href="interface_e_m_message_reaction.html">EMMessageReaction</a> * &gt; * &gt; *, <a class="el" href="interface_e_m_error.html">EMError</a> *_Nullable))&#160;</td>
          <td class="paramname"><em>completion</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">required</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >获取消息的 Reaction 列表。</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">messageId</td><td>消息 ID。 </td></tr>
    <tr><td class="paramname">groupId</td><td>群组 ID，该参数只在群聊生效。 </td></tr>
    <tr><td class="paramname">chatType</td><td>会话类型，仅支持单聊（<code><a class="el" href="">EMChatTypeChat</a></code>）和群聊（<code><a class="el" href="">EMChatTypeGroupChat</a></code>）。 </td></tr>
    <tr><td class="paramname">completion</td><td>该方法完成的回调。如果有错误会包含错误信息。 </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aa8c88fb56ebc9255c69135cc901e7e65" name="aa8c88fb56ebc9255c69135cc901e7e65"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa8c88fb56ebc9255c69135cc901e7e65">&#9670;&nbsp;</a></span>importConversations:completion:</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (void) importConversations: </td>
          <td></td>
          <td class="paramtype">(NSArray&lt; <a class="el" href="interface_e_m_conversation.html">EMConversation</a> * &gt; *_Nullable)&#160;</td>
          <td class="paramname"><em>aConversations</em></td>
        </tr>
        <tr>
          <td class="paramkey">completion:</td>
          <td></td>
          <td class="paramtype">(void(^)(<a class="el" href="interface_e_m_error.html">EMError</a> *_Nullable aError))&#160;</td>
          <td class="paramname"><em>aCompletionBlock</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">required</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >导入一组会话到本地数据库。</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">aConversations</td><td>会话列表。 </td></tr>
    <tr><td class="paramname">aCompletionBlock</td><td>该方法完成调用的回调。如果该方法调用失败，会包含调用失败的原因。 </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ac223706d0680cd913d7c9db9751166d1" name="ac223706d0680cd913d7c9db9751166d1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac223706d0680cd913d7c9db9751166d1">&#9670;&nbsp;</a></span>importMessages:completion:</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (void) importMessages: </td>
          <td></td>
          <td class="paramtype">(NSArray&lt; <a class="el" href="interface_e_m_chat_message.html">EMChatMessage</a> * &gt; *_Nonnull)&#160;</td>
          <td class="paramname"><em>aMessages</em></td>
        </tr>
        <tr>
          <td class="paramkey">completion:</td>
          <td></td>
          <td class="paramtype">(void(^)(<a class="el" href="interface_e_m_error.html">EMError</a> *_Nullable aError))&#160;</td>
          <td class="paramname"><em>aCompletionBlock</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">required</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >导入一组消息到本地数据库。</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">aMessages</td><td>消息列表。 </td></tr>
    <tr><td class="paramname">aCompletionBlock</td><td>该方法完成调用的回调。如果该方法调用失败，会包含调用失败的原因。 </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a8d595d95a93b6bd62d22c765ba3c5a31" name="a8d595d95a93b6bd62d22c765ba3c5a31"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8d595d95a93b6bd62d22c765ba3c5a31">&#9670;&nbsp;</a></span>loadMessagesWithKeyword:timestamp:count:fromUser:searchDirection:</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (NSArray&lt; <a class="el" href="interface_e_m_chat_message.html">EMChatMessage</a> * &gt; *) loadMessagesWithKeyword: </td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>aKeywords</em></td>
        </tr>
        <tr>
          <td class="paramkey">timestamp:</td>
          <td></td>
          <td class="paramtype">(long long)&#160;</td>
          <td class="paramname"><em>aTimestamp</em></td>
        </tr>
        <tr>
          <td class="paramkey">count:</td>
          <td></td>
          <td class="paramtype">(int)&#160;</td>
          <td class="paramname"><em>aCount</em></td>
        </tr>
        <tr>
          <td class="paramkey">fromUser:</td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>aSender</em></td>
        </tr>
        <tr>
          <td class="paramkey">searchDirection:</td>
          <td></td>
          <td class="paramtype">(EMMessageSearchDirection)&#160;</td>
          <td class="paramname"><em>aDirection</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">required</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >通过关键词从数据库获取消息。</p>
<p >该方法返回的消息按时间顺序排列。</p>
<p >同步方法，会阻塞当前线程。</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">aKeywords</td><td>搜索关键词。设为 <code>nil</code> 表示忽略该参数。 </td></tr>
    <tr><td class="paramname">aTimestamp</td><td>参考时间戳。如果该参数设置的时间戳为负数，则从最新消息向前获取。 </td></tr>
    <tr><td class="paramname">aCount</td><td>获取的消息条数。如果设为小于等于 0，SDK 会获取一条消息。 </td></tr>
    <tr><td class="paramname">aSender</td><td>消息发送方。设为 <code>nil</code> 表示忽略该参数。 </td></tr>
    <tr><td class="paramname">aDirection</td><td>消息搜索方向，详见 <code><a class="el" href="">MessageSearchDirection</a></code>。<ul>
<li><code>UP</code>：按消息时间戳的逆序获取。</li>
<li><code>DOWN</code>：按消息时间戳的顺序获取。</li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>消息列表。返回的消息列表为数组类型，数组中元素详见 <code><a class="el" href="interface_e_m_chat_message.html">EMChatMessage</a></code>。 </dd></dl>

</div>
</div>
<a id="a6cb7a8f459b9e9547d7d6f0d31072576" name="a6cb7a8f459b9e9547d7d6f0d31072576"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6cb7a8f459b9e9547d7d6f0d31072576">&#9670;&nbsp;</a></span>loadMessagesWithKeyword:timestamp:count:fromUser:searchDirection:completion:</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (void) loadMessagesWithKeyword: </td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>aKeywords</em></td>
        </tr>
        <tr>
          <td class="paramkey">timestamp:</td>
          <td></td>
          <td class="paramtype">(long long)&#160;</td>
          <td class="paramname"><em>aTimestamp</em></td>
        </tr>
        <tr>
          <td class="paramkey">count:</td>
          <td></td>
          <td class="paramtype">(int)&#160;</td>
          <td class="paramname"><em>aCount</em></td>
        </tr>
        <tr>
          <td class="paramkey">fromUser:</td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>aSender</em></td>
        </tr>
        <tr>
          <td class="paramkey">searchDirection:</td>
          <td></td>
          <td class="paramtype">(EMMessageSearchDirection)&#160;</td>
          <td class="paramname"><em>aDirection</em></td>
        </tr>
        <tr>
          <td class="paramkey">completion:</td>
          <td></td>
          <td class="paramtype">(void(^)(NSArray&lt; <a class="el" href="interface_e_m_chat_message.html">EMChatMessage</a> * &gt; *aMessages, <a class="el" href="interface_e_m_error.html">EMError</a> *aError))&#160;</td>
          <td class="paramname"><em>aCompletionBlock</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">required</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >通过关键词从数据库获取消息。</p>
<p >该方法返回的消息按时间顺序排列。</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">aKeywords</td><td>搜索关键词，设为 <code>nil</code> 表示忽略该参数。 </td></tr>
    <tr><td class="paramname">aTimestamp</td><td>参考时间戳。如果该参数设置的时间戳为负数，则从最新消息向前获取。 </td></tr>
    <tr><td class="paramname">aCount</td><td>获取的消息条数。如果设为小于等于 0，SDK 会获取一条消息。 </td></tr>
    <tr><td class="paramname">aSender</td><td>消息发送方。设为 <code>nil</code> 表示忽略该参数。 </td></tr>
    <tr><td class="paramname">aDirection</td><td>消息搜索方向，详见 <code><a class="el" href="">EMMessageSearchDirection</a></code>。<ul>
<li><code>UP</code>：按消息时间戳的逆序获取。</li>
<li><code>DOWN</code>：按消息时间戳的顺序获取。 </li>
</ul>
</td></tr>
    <tr><td class="paramname">aCompletionBlock</td><td>该方法完成调用的回调。如果该方法调用失败，会包含调用失败的原因。 </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="acbf69b4f5c710e2bbb4dadcf3fe8364a" name="acbf69b4f5c710e2bbb4dadcf3fe8364a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acbf69b4f5c710e2bbb4dadcf3fe8364a">&#9670;&nbsp;</a></span>loadMessagesWithKeyword:timestamp:count:fromUser:searchDirection:scope:completion:</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (void) loadMessagesWithKeyword: </td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>aKeywords</em></td>
        </tr>
        <tr>
          <td class="paramkey">timestamp:</td>
          <td></td>
          <td class="paramtype">(long long)&#160;</td>
          <td class="paramname"><em>aTimestamp</em></td>
        </tr>
        <tr>
          <td class="paramkey">count:</td>
          <td></td>
          <td class="paramtype">(int)&#160;</td>
          <td class="paramname"><em>aCount</em></td>
        </tr>
        <tr>
          <td class="paramkey">fromUser:</td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>aSender</em></td>
        </tr>
        <tr>
          <td class="paramkey">searchDirection:</td>
          <td></td>
          <td class="paramtype">(EMMessageSearchDirection)&#160;</td>
          <td class="paramname"><em>aDirection</em></td>
        </tr>
        <tr>
          <td class="paramkey">scope:</td>
          <td></td>
          <td class="paramtype">(EMMessageSearchScope)&#160;</td>
          <td class="paramname"><em>aScope</em></td>
        </tr>
        <tr>
          <td class="paramkey">completion:</td>
          <td></td>
          <td class="paramtype">(void(^)(NSArray&lt; <a class="el" href="interface_e_m_chat_message.html">EMChatMessage</a> * &gt; *aMessages, <a class="el" href="interface_e_m_error.html">EMError</a> *aError))&#160;</td>
          <td class="paramname"><em>aCompletionBlock</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">required</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >通过关键词从本地数据库中获取消息。</p>
<p >SDK 返回的消息按时间顺序排列。</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">aKeywords</td><td>搜索关键词，设为 <code>nil</code> 表示忽略该参数。 </td></tr>
    <tr><td class="paramname">aTimestamp</td><td>搜索开始的 Unix 时间戳。单位为毫秒。如果该参数设置的时间戳为负数，则从最新消息向前获取。 </td></tr>
    <tr><td class="paramname">aCount</td><td>获取的消息条数。如果设为小于等于 0，SDK 会获取一条消息。 </td></tr>
    <tr><td class="paramname">aSender</td><td>消息发送方。设为 <code>nil</code> 表示忽略该参数。 </td></tr>
    <tr><td class="paramname">aDirection</td><td>消息搜索方向，详见 <code><a class="el" href="">EMMessageSearchDirection</a></code>。<ul>
<li><code>UP</code>：按消息时间戳的逆序获取。</li>
<li><code>DOWN</code>：按消息时间戳的顺序获取。 </li>
</ul>
</td></tr>
    <tr><td class="paramname">aScope</td><td>消息搜索范围，详见 <code><a class="el" href="">EMMessageSearchScope</a></code>。 </td></tr>
    <tr><td class="paramname">aCompletionBlock</td><td>该方法完成调用的回调。如果该方法调用失败，会包含调用失败的原因。 </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ae2cb219648ba0943f965e45b1244d414" name="ae2cb219648ba0943f965e45b1244d414"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae2cb219648ba0943f965e45b1244d414">&#9670;&nbsp;</a></span>loadMessagesWithType:timestamp:count:fromUser:searchDirection:</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (NSArray&lt; <a class="el" href="interface_e_m_chat_message.html">EMChatMessage</a> * &gt; *_Nullable) loadMessagesWithType: </td>
          <td></td>
          <td class="paramtype">(EMMessageBodyType)&#160;</td>
          <td class="paramname"><em>aType</em></td>
        </tr>
        <tr>
          <td class="paramkey">timestamp:</td>
          <td></td>
          <td class="paramtype">(long long)&#160;</td>
          <td class="paramname"><em>aTimestamp</em></td>
        </tr>
        <tr>
          <td class="paramkey">count:</td>
          <td></td>
          <td class="paramtype">(int)&#160;</td>
          <td class="paramname"><em>aCount</em></td>
        </tr>
        <tr>
          <td class="paramkey">fromUser:</td>
          <td></td>
          <td class="paramtype">(NSString *_Nullable)&#160;</td>
          <td class="paramname"><em>aUsername</em></td>
        </tr>
        <tr>
          <td class="paramkey">searchDirection:</td>
          <td></td>
          <td class="paramtype">(EMMessageSearchDirection)&#160;</td>
          <td class="paramname"><em>aDirection</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">required</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >通过关键词从数据库获取消息。</p>
<p >该方法返回的消息按时间顺序排列。</p>
<p >同步方法，会阻塞当前线程。</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">aType</td><td>消息类型。 </td></tr>
    <tr><td class="paramname">aTimestamp</td><td>参考时间戳。如果该参数设置的时间戳为负数，则从最新消息向前获取。 </td></tr>
    <tr><td class="paramname">aCount</td><td>获取的消息条数。如果设为小于等于 0，SDK 会获取一条消息。 </td></tr>
    <tr><td class="paramname">aUsername</td><td>消息发送方。设为 <code>nil</code> 表示忽略该参数。 </td></tr>
    <tr><td class="paramname">aDirection</td><td>消息搜索方向。详见 <code><a class="el" href="">EMMessageSearchDirection</a></code>。<ul>
<li><code>UP</code>：按消息时间戳的逆序获取。</li>
<li><code>DOWN</code>：按消息时间戳的顺序获取。</li>
</ul>
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>返回</dt><dd>消息列表。返回的消息列表为数组类型，数组中元素详见 <code><a class="el" href="interface_e_m_chat_message.html">EMChatMessage</a></code>。 </dd></dl>

</div>
</div>
<a id="ad2094dc45b4c9a6b777a1ddd67297f39" name="ad2094dc45b4c9a6b777a1ddd67297f39"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad2094dc45b4c9a6b777a1ddd67297f39">&#9670;&nbsp;</a></span>loadMessagesWithType:timestamp:count:fromUser:searchDirection:completion:</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (void) loadMessagesWithType: </td>
          <td></td>
          <td class="paramtype">(EMMessageBodyType)&#160;</td>
          <td class="paramname"><em>aType</em></td>
        </tr>
        <tr>
          <td class="paramkey">timestamp:</td>
          <td></td>
          <td class="paramtype">(long long)&#160;</td>
          <td class="paramname"><em>aTimestamp</em></td>
        </tr>
        <tr>
          <td class="paramkey">count:</td>
          <td></td>
          <td class="paramtype">(int)&#160;</td>
          <td class="paramname"><em>aCount</em></td>
        </tr>
        <tr>
          <td class="paramkey">fromUser:</td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>aUsername</em></td>
        </tr>
        <tr>
          <td class="paramkey">searchDirection:</td>
          <td></td>
          <td class="paramtype">(EMMessageSearchDirection)&#160;</td>
          <td class="paramname"><em>aDirection</em></td>
        </tr>
        <tr>
          <td class="paramkey">completion:</td>
          <td></td>
          <td class="paramtype">(void(^)(NSArray&lt; <a class="el" href="interface_e_m_chat_message.html">EMChatMessage</a> * &gt; *aMessages, <a class="el" href="interface_e_m_error.html">EMError</a> *aError))&#160;</td>
          <td class="paramname"><em>aCompletionBlock</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">required</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >通过关键词从数据库获取消息。</p>
<p >该方法返回的消息按时间顺序排列。</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">aType</td><td>消息类型。 </td></tr>
    <tr><td class="paramname">aTimestamp</td><td>参考时间戳。如果该参数设置的时间戳为负数，则 SDK 从最新消息开始获取。 </td></tr>
    <tr><td class="paramname">aCount</td><td>获取的消息条数。如果设为小于等于 0，SDK 会获取一条消息。 </td></tr>
    <tr><td class="paramname">aUsername</td><td>消息发送方。设为 <code>nil</code> 表示忽略该参数。 </td></tr>
    <tr><td class="paramname">aDirection</td><td>消息搜索方向，详见 <code><a class="el" href="">MessageSearchDirection</a></code>。<ul>
<li><code>UP</code>：按消息时间戳的逆序获取。</li>
<li><code>DOWN</code>：按消息时间戳的顺序获取。 </li>
</ul>
</td></tr>
    <tr><td class="paramname">aCompletionBlock</td><td>该方法完成调用的回调。如果该方法调用失败，会包含调用失败的原因。 </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ae8ec9a1c06372e6c6072bd60eb8aa641" name="ae8ec9a1c06372e6c6072bd60eb8aa641"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae8ec9a1c06372e6c6072bd60eb8aa641">&#9670;&nbsp;</a></span>markAllConversationsAsRead</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (<a class="el" href="interface_e_m_error.html">EMError</a> *) markAllConversationsAsRead </td>
          <td></td>
          <td class="paramname"></td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">required</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >将所有会话都设成已读。</p>
<p >该方法仅适用于本地会话。 </p>

</div>
</div>
<a id="a1dd33664277ed76c4208af4150a74987" name="a1dd33664277ed76c4208af4150a74987"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1dd33664277ed76c4208af4150a74987">&#9670;&nbsp;</a></span>modifyMessage:body:completion:</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (void) modifyMessage: </td>
          <td></td>
          <td class="paramtype">(NSString *_Nonnull)&#160;</td>
          <td class="paramname"><em>messageId</em></td>
        </tr>
        <tr>
          <td class="paramkey">body:</td>
          <td></td>
          <td class="paramtype">(<a class="el" href="interface_e_m_message_body.html">EMMessageBody</a> *_Nonnull)&#160;</td>
          <td class="paramname"><em>body</em></td>
        </tr>
        <tr>
          <td class="paramkey">completion:</td>
          <td></td>
          <td class="paramtype">(void(^)(<a class="el" href="interface_e_m_error.html">EMError</a> *_Nullable error, <a class="el" href="interface_e_m_chat_message.html">EMChatMessage</a> *_Nullable message))&#160;</td>
          <td class="paramname"><em>completionBlock</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">required</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >修改本地以及服务端的消息内容。</p>
<p >支持文本消息和自定义消息的修改。 </p><dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">messageId</td><td>消息实例id。 </td></tr>
    <tr><td class="paramname">body</td><td>消息体实例。 </td></tr>
    <tr><td class="paramname">completionBlock</td><td>该方法完成调用的回调。如果该方法调用失败，会包含调用失败的原因。成功则error为空，message不为空 </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a1eed319dc3627aff8c44d65502d8c875" name="a1eed319dc3627aff8c44d65502d8c875"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1eed319dc3627aff8c44d65502d8c875">&#9670;&nbsp;</a></span>modifyMessage:body:ext:completion:</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (void) modifyMessage: </td>
          <td></td>
          <td class="paramtype">(NSString *_Nonnull)&#160;</td>
          <td class="paramname"><em>messageId</em></td>
        </tr>
        <tr>
          <td class="paramkey">body:</td>
          <td></td>
          <td class="paramtype">(<a class="el" href="interface_e_m_message_body.html">EMMessageBody</a> *_Nullable)&#160;</td>
          <td class="paramname"><em>body</em></td>
        </tr>
        <tr>
          <td class="paramkey">ext:</td>
          <td></td>
          <td class="paramtype">(NSDictionary *_Nullable)&#160;</td>
          <td class="paramname"><em>ext</em></td>
        </tr>
        <tr>
          <td class="paramkey">completion:</td>
          <td></td>
          <td class="paramtype">(void(^)(<a class="el" href="interface_e_m_error.html">EMError</a> *_Nullable error, <a class="el" href="interface_e_m_chat_message.html">EMChatMessage</a> *_Nullable message))&#160;</td>
          <td class="paramname"><em>completionBlock</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">required</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >修改本地以及服务端消息。</p>
<ul>
<li>文本/自定义消息：支持修改消息内容（body）和扩展 <code>ext</code>。</li>
<li>文件/视频/音频/图片/位置/合并转发消息：只支持修改消息扩展 <code>ext</code>。</li>
<li>命令消息：不支持修改。</li>
</ul>
<p >该方法会同时更新服务器和本地的消息，消息 ID 不会更新。</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">messageId</td><td>要修改的消息 ID。 </td></tr>
    <tr><td class="paramname">body</td><td>修改后的消息 body。只有文本消息和自定义消息支持，传 nil 表示不修改。 </td></tr>
    <tr><td class="paramname">ext</td><td>修改后的消息扩展信息，将会覆盖之前的扩展信息，传 nil 表示不修改。 </td></tr>
    <tr><td class="paramname">completionBlock</td><td>该方法完成调用的回调。如果该方法调用失败，会包含调用失败的原因。 </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ab7ec272edae5130035bd09f6edc88c24" name="ab7ec272edae5130035bd09f6edc88c24"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab7ec272edae5130035bd09f6edc88c24">&#9670;&nbsp;</a></span>pinConversation:isPinned:completionBlock:</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (void) pinConversation: </td>
          <td></td>
          <td class="paramtype">(nonnull NSString *)&#160;</td>
          <td class="paramname"><em>conversationId</em></td>
        </tr>
        <tr>
          <td class="paramkey">isPinned:</td>
          <td></td>
          <td class="paramtype">(BOOL)&#160;</td>
          <td class="paramname"><em>isPinned</em></td>
        </tr>
        <tr>
          <td class="paramkey">completionBlock:</td>
          <td></td>
          <td class="paramtype">(nullable void(^)(<a class="el" href="interface_e_m_error.html">EMError</a> *_Nullable error))&#160;</td>
          <td class="paramname"><em>completionBlock</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">required</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >设置是否置顶会话。</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">conversationId</td><td>会话 ID。 </td></tr>
    <tr><td class="paramname">isPinned</td><td>是否置顶会话：<ul>
<li>YES：置顶；</li>
<li>NO：取消置顶。 </li>
</ul>
</td></tr>
    <tr><td class="paramname">callback</td><td>设置是否置顶会话的结果回调。 </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a59c37d7733f37616d9d948aa5bbb7ef0" name="a59c37d7733f37616d9d948aa5bbb7ef0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a59c37d7733f37616d9d948aa5bbb7ef0">&#9670;&nbsp;</a></span>pinMessage:completion:</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (void) pinMessage: </td>
          <td></td>
          <td class="paramtype">(NSString *_Nonnull)&#160;</td>
          <td class="paramname"><em>messageId</em></td>
        </tr>
        <tr>
          <td class="paramkey">completion:</td>
          <td></td>
          <td class="paramtype">(void(^)(<a class="el" href="interface_e_m_chat_message.html">EMChatMessage</a> *_Nullable message, <a class="el" href="interface_e_m_error.html">EMError</a> *_Nullable aError))&#160;</td>
          <td class="paramname"><em>aCompletionBlock</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">required</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >置顶消息。</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">messageId</td><td>要置顶的消息 ID。 </td></tr>
    <tr><td class="paramname">aCompletionBlock</td><td>该方法完成的回调，返回消息对象。如果该方法调用失败，会包含调用失败的原因。 </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a800f9a6c3166c97240da304c11fbb1d1" name="a800f9a6c3166c97240da304c11fbb1d1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a800f9a6c3166c97240da304c11fbb1d1">&#9670;&nbsp;</a></span>recallMessageWithMessageId:completion:</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (void) recallMessageWithMessageId: </td>
          <td></td>
          <td class="paramtype">(NSString *_Nonnull)&#160;</td>
          <td class="paramname"><em>aMessageId</em></td>
        </tr>
        <tr>
          <td class="paramkey">completion:</td>
          <td></td>
          <td class="paramtype">(void(^)(<a class="el" href="interface_e_m_error.html">EMError</a> *_Nullable aError))&#160;</td>
          <td class="paramname"><em>aCompletionBlock</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">required</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >撤回一条消息。</p>
<p >异步方法。</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">aMessageId</td><td>消息 ID。 </td></tr>
    <tr><td class="paramname">aCompletionBlock</td><td>该方法完成调用的回调。如果该方法调用失败，会包含调用失败的原因。 </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a1b1628deaedd57fc1222d150caf4033e" name="a1b1628deaedd57fc1222d150caf4033e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1b1628deaedd57fc1222d150caf4033e">&#9670;&nbsp;</a></span>recallMessageWithMessageId:ext:completion:</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (void) recallMessageWithMessageId: </td>
          <td></td>
          <td class="paramtype">(NSString *_Nonnull)&#160;</td>
          <td class="paramname"><em>aMessageId</em></td>
        </tr>
        <tr>
          <td class="paramkey">ext:</td>
          <td></td>
          <td class="paramtype">(NSString *_Nullable)&#160;</td>
          <td class="paramname"><em>ext</em></td>
        </tr>
        <tr>
          <td class="paramkey">completion:</td>
          <td></td>
          <td class="paramtype">(void(^)(<a class="el" href="interface_e_m_error.html">EMError</a> *_Nullable))&#160;</td>
          <td class="paramname"><em>aCompletionBlock</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">required</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >撤回一条消息。</p>
<p >异步方法。</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">aMessageId</td><td>消息 ID。 </td></tr>
    <tr><td class="paramname">ext</td><td>撤回时传递的透传信息，支持字符串和 JSONString 类型。 </td></tr>
    <tr><td class="paramname">aCompletionBlock</td><td>该方法完成调用的回调。如果该方法调用失败，会包含调用失败的原因。 </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a82e5144febac439d392700fdabc827a1" name="a82e5144febac439d392700fdabc827a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a82e5144febac439d392700fdabc827a1">&#9670;&nbsp;</a></span>removeConversationMark:mark:completion:</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (void) removeConversationMark: </td>
          <td></td>
          <td class="paramtype">(NSArray&lt; NSString * &gt; *_Nonnull)&#160;</td>
          <td class="paramname"><em>conversationIds</em></td>
        </tr>
        <tr>
          <td class="paramkey">mark:</td>
          <td></td>
          <td class="paramtype">(EMMarkType)&#160;</td>
          <td class="paramname"><em>mark</em></td>
        </tr>
        <tr>
          <td class="paramkey">completion:</td>
          <td></td>
          <td class="paramtype">(void(^)(<a class="el" href="interface_e_m_error.html">EMError</a> *_Nullable aError))&#160;</td>
          <td class="paramname"><em>completion</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">required</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >取消标记会话。</p>
<p >调用该方法会同时取消本地和服务器端的会话标记。</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">conversationIds</td><td>会话 ID 列表。 </td></tr>
    <tr><td class="paramname">mark</td><td>要移除的会话标记。 </td></tr>
    <tr><td class="paramname">aCompletionBlock</td><td>该方法完成调用的回调。如果该方法调用失败，会包含调用失败的原因。 </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a8cc47212405130e912ec90f097bb75db" name="a8cc47212405130e912ec90f097bb75db"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8cc47212405130e912ec90f097bb75db">&#9670;&nbsp;</a></span>removeDelegate:</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (void) removeDelegate: </td>
          <td></td>
          <td class="paramtype">(id&lt; <a class="el" href="protocol_e_m_chat_manager_delegate-p.html">EMChatManagerDelegate</a> &gt; _Nonnull)&#160;</td>
          <td class="paramname"><em>aDelegate</em></td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">required</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >移除回调代理。</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">aDelegate</td><td>要移除的代理。 </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a79f8ae26da0d9e3bb447ce1f37f13e5b" name="a79f8ae26da0d9e3bb447ce1f37f13e5b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a79f8ae26da0d9e3bb447ce1f37f13e5b">&#9670;&nbsp;</a></span>removeMessagesFromServerWithConversation:messageIds:completion:</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (void) removeMessagesFromServerWithConversation: </td>
          <td></td>
          <td class="paramtype">(<a class="el" href="interface_e_m_conversation.html">EMConversation</a> *_Nonnull)&#160;</td>
          <td class="paramname"><em>conversation</em></td>
        </tr>
        <tr>
          <td class="paramkey">messageIds:</td>
          <td></td>
          <td class="paramtype">(NSArray&lt; __kindof NSString * &gt; *_Nonnull)&#160;</td>
          <td class="paramname"><em>messageIds</em></td>
        </tr>
        <tr>
          <td class="paramkey">completion:</td>
          <td></td>
          <td class="paramtype">(void(^)(<a class="el" href="interface_e_m_error.html">EMError</a> *_Nullable aError))&#160;</td>
          <td class="paramname"><em>aCompletionBlock</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">required</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >从会话中删除消息（包括本地存储和服务器存储）。</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">conversation</td><td>会话对象 <a class="el" href="interface_e_m_conversation.html">EMConversation</a> </td></tr>
    <tr><td class="paramname">messageIds</td><td>要删除消息 ID 字符串数组。 </td></tr>
    <tr><td class="paramname">completion</td><td>该方法完成调用的回调。如果该方法调用失败，会包含调用失败的原因。 </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a0405fabe31277a1d482b8ad149495d38" name="a0405fabe31277a1d482b8ad149495d38"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0405fabe31277a1d482b8ad149495d38">&#9670;&nbsp;</a></span>removeMessagesFromServerWithConversation:timeStamp:completion:</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (void) removeMessagesFromServerWithConversation: </td>
          <td></td>
          <td class="paramtype">(<a class="el" href="interface_e_m_conversation.html">EMConversation</a> *_Nonnull)&#160;</td>
          <td class="paramname"><em>conversation</em></td>
        </tr>
        <tr>
          <td class="paramkey">timeStamp:</td>
          <td></td>
          <td class="paramtype">(NSTimeInterval)&#160;</td>
          <td class="paramname"><em>beforeTimeStamp</em></td>
        </tr>
        <tr>
          <td class="paramkey">completion:</td>
          <td></td>
          <td class="paramtype">(void(^)(<a class="el" href="interface_e_m_error.html">EMError</a> *_Nullable aError))&#160;</td>
          <td class="paramname"><em>aCompletionBlock</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">required</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >从会话中删除消息（包括本地存储和服务器）。</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">conversation</td><td>会话对象 EMConversation。 </td></tr>
    <tr><td class="paramname">beforeTimeStamp</td><td>指定的时间戳，单位为毫秒。该时间戳之前的消息会被删除。 </td></tr>
    <tr><td class="paramname">completion</td><td>该方法完成调用的回调。如果该方法调用失败，会包含调用失败的原因。 </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ada7b8d6da6577859239cd11174208cc2" name="ada7b8d6da6577859239cd11174208cc2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ada7b8d6da6577859239cd11174208cc2">&#9670;&nbsp;</a></span>removeReaction:fromMessage:completion:</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (void) removeReaction: </td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>reaction</em></td>
        </tr>
        <tr>
          <td class="paramkey">fromMessage:</td>
          <td></td>
          <td class="paramtype">(NSString *)&#160;</td>
          <td class="paramname"><em>messageId</em></td>
        </tr>
        <tr>
          <td class="paramkey">completion:</td>
          <td></td>
          <td class="paramtype">(nullable void(^)(<a class="el" href="interface_e_m_error.html">EMError</a> *_Nullable))&#160;</td>
          <td class="paramname"><em>completion</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">required</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >删除 Reaction。</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">reaction</td><td>Reaction 内容。 </td></tr>
    <tr><td class="paramname">messageId</td><td>消息 ID。 </td></tr>
    <tr><td class="paramname">completion</td><td>该方法完成的回调。如果有错误会包含错误信息。 </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a9db077be049b56849ec606de147d0f11" name="a9db077be049b56849ec606de147d0f11"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9db077be049b56849ec606de147d0f11">&#9670;&nbsp;</a></span>reportMessageWithId:tag:reason:completion:</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (void) reportMessageWithId: </td>
          <td></td>
          <td class="paramtype">(NSString *_Nonnull)&#160;</td>
          <td class="paramname"><em>aMessageId</em></td>
        </tr>
        <tr>
          <td class="paramkey">tag:</td>
          <td></td>
          <td class="paramtype">(NSString *_Nonnull)&#160;</td>
          <td class="paramname"><em>aTag</em></td>
        </tr>
        <tr>
          <td class="paramkey">reason:</td>
          <td></td>
          <td class="paramtype">(NSString *_Nonnull)&#160;</td>
          <td class="paramname"><em>aReason</em></td>
        </tr>
        <tr>
          <td class="paramkey">completion:</td>
          <td></td>
          <td class="paramtype">(void(^)(<a class="el" href="interface_e_m_error.html">EMError</a> *_Nullable error))&#160;</td>
          <td class="paramname"><em>aCompletion</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">required</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >举报违规消息。</p>
<p >异步方法。</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">aMessageId</td><td>非法消息的 ID。 </td></tr>
    <tr><td class="paramname">aTag</td><td>非法消息的标签。你需要填写自定义标签，例如<code>涉政</code>或<code>广告</code>。该字段对应控制台的消息举报记录页面的<code>词条标记</code>字段。</td></tr>
    <tr><td class="paramname">aReason</td><td>举报原因。你需要自行填写举报原因。该字段对应控制台的消息举报记录页面的<code>举报原因</code>字段。 </td></tr>
    <tr><td class="paramname">aCompletion</td><td>该方法完成调用的回调。如果该方法调用失败，会包含调用失败的原因。 </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a50bac38b79c7015fd6a3e6db7e768b6a" name="a50bac38b79c7015fd6a3e6db7e768b6a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a50bac38b79c7015fd6a3e6db7e768b6a">&#9670;&nbsp;</a></span>resendMessage:progress:completion:</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (void) resendMessage: </td>
          <td></td>
          <td class="paramtype">(<a class="el" href="interface_e_m_chat_message.html">EMChatMessage</a> *_Nonnull)&#160;</td>
          <td class="paramname"><em>aMessage</em></td>
        </tr>
        <tr>
          <td class="paramkey">progress:</td>
          <td></td>
          <td class="paramtype">(void(^)(int progress))&#160;</td>
          <td class="paramname"><em>aProgressBlock</em></td>
        </tr>
        <tr>
          <td class="paramkey">completion:</td>
          <td></td>
          <td class="paramtype">(void(^)(<a class="el" href="interface_e_m_chat_message.html">EMChatMessage</a> *_Nullable message, <a class="el" href="interface_e_m_error.html">EMError</a> *_Nullable error))&#160;</td>
          <td class="paramname"><em>aCompletionBlock</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">required</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >重新发送消息。</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">aMessage</td><td>消息对象。 </td></tr>
    <tr><td class="paramname">aProgressBlock</td><td>附件上传进度回调 block。进度值范围为 [0,100]。 </td></tr>
    <tr><td class="paramname">aCompletionBlock</td><td>该方法完成调用的回调。如果该方法调用失败，会包含调用失败的原因。 </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a1e66936daa71ebd1eec81f0a34a3b385" name="a1e66936daa71ebd1eec81f0a34a3b385"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1e66936daa71ebd1eec81f0a34a3b385">&#9670;&nbsp;</a></span>searchMessagesWithTypes:timestamp:count:fromUser:searchDirection:completion:</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (void) searchMessagesWithTypes: </td>
          <td></td>
          <td class="paramtype">(NSArray&lt; NSNumber * &gt; *_Nonnull)&#160;</td>
          <td class="paramname"><em>aTypes</em></td>
        </tr>
        <tr>
          <td class="paramkey">timestamp:</td>
          <td></td>
          <td class="paramtype">(long long)&#160;</td>
          <td class="paramname"><em>aTimestamp</em></td>
        </tr>
        <tr>
          <td class="paramkey">count:</td>
          <td></td>
          <td class="paramtype">(int)&#160;</td>
          <td class="paramname"><em>aCount</em></td>
        </tr>
        <tr>
          <td class="paramkey">fromUser:</td>
          <td></td>
          <td class="paramtype">(NSString *_Nullable)&#160;</td>
          <td class="paramname"><em>aUsername</em></td>
        </tr>
        <tr>
          <td class="paramkey">searchDirection:</td>
          <td></td>
          <td class="paramtype">(EMMessageSearchDirection)&#160;</td>
          <td class="paramname"><em>aDirection</em></td>
        </tr>
        <tr>
          <td class="paramkey">completion:</td>
          <td></td>
          <td class="paramtype">(void(^)(NSArray&lt; <a class="el" href="interface_e_m_chat_message.html">EMChatMessage</a> * &gt; *_Nullable aMessages, <a class="el" href="interface_e_m_error.html">EMError</a> *_Nullable aError))&#160;</td>
          <td class="paramname"><em>aCompletionBlock</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">required</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >通过关键词从数据库获取消息。</p>
<p >该方法返回的消息按时间顺序排列。</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">aTypes</td><td>消息类型枚举原始值用NSNumber包装后的数组，txt:文本消息，img：图片消息，loc：位置消息，audio：语音消息，video：视频消息，file：文件消息，cmd: 透传消息。<code>EMMessageBodyType</code>. </td></tr>
    <tr><td class="paramname">aTimestamp</td><td>参考时间戳。如果该参数设置的时间戳为负数，则 SDK 从最新消息开始获取。 </td></tr>
    <tr><td class="paramname">aCount</td><td>获取的消息条数。如果设为小于等于 0，SDK 会获取一条消息。 </td></tr>
    <tr><td class="paramname">aUsername</td><td>消息发送方。设为 <code>nil</code> 表示忽略该参数。 </td></tr>
    <tr><td class="paramname">aDirection</td><td>消息搜索方向，详见 <code><a class="el" href="">MessageSearchDirection</a></code>。<ul>
<li><code>UP</code>：按消息时间戳的逆序获取。</li>
<li><code>DOWN</code>：按消息时间戳的顺序获取。 </li>
</ul>
</td></tr>
    <tr><td class="paramname">aCompletionBlock</td><td>该方法完成调用的回调。如果该方法调用失败，会包含调用失败的原因。 </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a3da6f68c3fb96564d93d493ff21d0542" name="a3da6f68c3fb96564d93d493ff21d0542"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3da6f68c3fb96564d93d493ff21d0542">&#9670;&nbsp;</a></span>sendGroupMessageReadAck:toGroup:content:completion:</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (void) sendGroupMessageReadAck: </td>
          <td></td>
          <td class="paramtype">(NSString *_Nonnull)&#160;</td>
          <td class="paramname"><em>aMessageId</em></td>
        </tr>
        <tr>
          <td class="paramkey">toGroup:</td>
          <td></td>
          <td class="paramtype">(NSString *_Nonnull)&#160;</td>
          <td class="paramname"><em>aGroupId</em></td>
        </tr>
        <tr>
          <td class="paramkey">content:</td>
          <td></td>
          <td class="paramtype">(NSString *_Nullable)&#160;</td>
          <td class="paramname"><em>aContent</em></td>
        </tr>
        <tr>
          <td class="paramkey">completion:</td>
          <td></td>
          <td class="paramtype">(void(^)(<a class="el" href="interface_e_m_error.html">EMError</a> *_Nullable aError))&#160;</td>
          <td class="paramname"><em>aCompletionBlock</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">required</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >发送群消息已读回执。</p>
<p >异步方法。</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">aMessageId</td><td>消息 ID。 </td></tr>
    <tr><td class="paramname">aGroupId</td><td>群组 ID。 </td></tr>
    <tr><td class="paramname">aContent</td><td>消息内容。 </td></tr>
    <tr><td class="paramname">aCompletionBlock</td><td>该方法完成调用的回调。如果该方法调用失败，会包含调用失败的原因。 </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a9e907db464e5f5572a0d3b3b48effdba" name="a9e907db464e5f5572a0d3b3b48effdba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e907db464e5f5572a0d3b3b48effdba">&#9670;&nbsp;</a></span>sendMessage:progress:completion:</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (void) sendMessage: </td>
          <td></td>
          <td class="paramtype">(<a class="el" href="interface_e_m_chat_message.html">EMChatMessage</a> *_Nonnull)&#160;</td>
          <td class="paramname"><em>aMessage</em></td>
        </tr>
        <tr>
          <td class="paramkey">progress:</td>
          <td></td>
          <td class="paramtype">(void(^)(int progress))&#160;</td>
          <td class="paramname"><em>aProgressBlock</em></td>
        </tr>
        <tr>
          <td class="paramkey">completion:</td>
          <td></td>
          <td class="paramtype">(void(^)(<a class="el" href="interface_e_m_chat_message.html">EMChatMessage</a> *_Nullable message, <a class="el" href="interface_e_m_error.html">EMError</a> *_Nullable error))&#160;</td>
          <td class="paramname"><em>aCompletionBlock</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">required</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >发送消息。</p>
<p >异步方法。</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">aMessage</td><td>消息。 </td></tr>
    <tr><td class="paramname">aProgressBlock</td><td>附件上传进度回调 block。进度值范围为 [0,100]。 </td></tr>
    <tr><td class="paramname">aCompletionBlock</td><td>该方法完成调用的回调。如果该方法调用失败，会包含调用失败的原因。 </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad332c114b5e7bc3c7945923fa19b8eb8" name="ad332c114b5e7bc3c7945923fa19b8eb8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad332c114b5e7bc3c7945923fa19b8eb8">&#9670;&nbsp;</a></span>sendMessageReadAck:toUser:completion:</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (void) sendMessageReadAck: </td>
          <td></td>
          <td class="paramtype">(NSString *_Nonnull)&#160;</td>
          <td class="paramname"><em>aMessageId</em></td>
        </tr>
        <tr>
          <td class="paramkey">toUser:</td>
          <td></td>
          <td class="paramtype">(NSString *_Nonnull)&#160;</td>
          <td class="paramname"><em>aUsername</em></td>
        </tr>
        <tr>
          <td class="paramkey">completion:</td>
          <td></td>
          <td class="paramtype">(void(^)(<a class="el" href="interface_e_m_error.html">EMError</a> *_Nullable aError))&#160;</td>
          <td class="paramname"><em>aCompletionBlock</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">required</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >发送消息已读回执。</p>
<p >异步方法。</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">aMessage</td><td>消息 ID。 </td></tr>
    <tr><td class="paramname">aUsername</td><td>已读回执的接收方。 </td></tr>
    <tr><td class="paramname">aCompletionBlock</td><td>该方法完成调用的回调。如果该方法调用失败，会包含调用失败的原因。 </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a23eef0b7f10c3fc7bd513030e2019664" name="a23eef0b7f10c3fc7bd513030e2019664"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a23eef0b7f10c3fc7bd513030e2019664">&#9670;&nbsp;</a></span>translateMessage:targetLanguages:completion:</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (void) translateMessage: </td>
          <td></td>
          <td class="paramtype">(<a class="el" href="interface_e_m_chat_message.html">EMChatMessage</a> *_Nonnull)&#160;</td>
          <td class="paramname"><em>aMessage</em></td>
        </tr>
        <tr>
          <td class="paramkey">targetLanguages:</td>
          <td></td>
          <td class="paramtype">(NSArray&lt; NSString * &gt; *_Nonnull)&#160;</td>
          <td class="paramname"><em>aLanguages</em></td>
        </tr>
        <tr>
          <td class="paramkey">completion:</td>
          <td></td>
          <td class="paramtype">(void(^)(<a class="el" href="interface_e_m_chat_message.html">EMChatMessage</a> *_Nullable message, <a class="el" href="interface_e_m_error.html">EMError</a> *_Nullable error))&#160;</td>
          <td class="paramname"><em>aCompletionBlock</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">required</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >翻译消息。</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">aMessage</td><td>消息对象。 </td></tr>
    <tr><td class="paramname">aLanguages</td><td>目标语言代码列表。 </td></tr>
    <tr><td class="paramname">aCompletionBlock</td><td>该方法完成调用的回调。如果该方法调用失败，会包含调用失败的原因。 </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a7e21a221a6c93433b38f8ab4d1b5590a" name="a7e21a221a6c93433b38f8ab4d1b5590a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7e21a221a6c93433b38f8ab4d1b5590a">&#9670;&nbsp;</a></span>unpinMessage:completion:</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (void) unpinMessage: </td>
          <td></td>
          <td class="paramtype">(NSString *_Nonnull)&#160;</td>
          <td class="paramname"><em>messageId</em></td>
        </tr>
        <tr>
          <td class="paramkey">completion:</td>
          <td></td>
          <td class="paramtype">(void(^)(<a class="el" href="interface_e_m_chat_message.html">EMChatMessage</a> *_Nullable message, <a class="el" href="interface_e_m_error.html">EMError</a> *_Nullable aError))&#160;</td>
          <td class="paramname"><em>aCompletionBlock</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">required</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >取消置顶消息。</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">messageId</td><td>要取消置顶的消息 ID。 </td></tr>
    <tr><td class="paramname">aCompletionBlock</td><td>该方法完成的回调，返回消息对象。如果该方法调用失败，会包含调用失败的原因。 </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aafceafd5a80d99c0d02d96baf66e24af" name="aafceafd5a80d99c0d02d96baf66e24af"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aafceafd5a80d99c0d02d96baf66e24af">&#9670;&nbsp;</a></span>updateMessage:completion:</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">- (void) updateMessage: </td>
          <td></td>
          <td class="paramtype">(<a class="el" href="interface_e_m_chat_message.html">EMChatMessage</a> *_Nonnull)&#160;</td>
          <td class="paramname"><em>aMessage</em></td>
        </tr>
        <tr>
          <td class="paramkey">completion:</td>
          <td></td>
          <td class="paramtype">(void(^)(<a class="el" href="interface_e_m_chat_message.html">EMChatMessage</a> *_Nullable aMessage, <a class="el" href="interface_e_m_error.html">EMError</a> *_Nullable aError))&#160;</td>
          <td class="paramname"><em>aCompletionBlock</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td></td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">required</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p >更新消息到本地数据库。</p>
<p >该方法会同时更新本地内存和数据库中的消息，消息 ID 不会更新。</p>
<dl class="params"><dt>参数</dt><dd>
  <table class="params">
    <tr><td class="paramname">aMessage</td><td>消息。 </td></tr>
    <tr><td class="paramname">aCompletionBlock</td><td>该方法完成调用的回调。如果该方法调用失败，会包含调用失败的原因。 </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<hr/>该协议的文档由以下文件生成:<ul>
<li>HyphenateChat.framework/Headers/<a class="el" href="_i_e_m_chat_manager_8h_source.html">IEMChatManager.h</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
制作者&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.4
</small></address>
</body>
</html>
